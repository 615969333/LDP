<!doctype linuxdoc system>

<article>

<!--
<title>Palm OS Linux Desktop HOWTO
-->
<title>Palm OS Desktop HOWTO
<author>by David H. Silber
<tt><htmlurl url="mailto:palm@orbits.com" name="palm@orbits.com"></tt>
<date>v1.0.0, 20 September 1998
<abstract>
This HOWTO document explains how to use your Palm OS device with a
Linux system.

Although HOWTO documents are targeted towards use with the Linux
operating system, this one is not dependent on the version of unix used.
</abstract>

<toc>


<sect>Introduction
<p>
First there was the Pilot, then the PalmPilot, and now we have the
Palm III from Palm Computing Devices.
IBM sells a rebadged version of the PalmPilot Professional, which they
call the WorkPad.
What are these gadgets?
They are Personal Digital Assistants (PDAs), sometimes known as palm-top
computers.
Sold as an electronic combination of address book, telephone directory
and memo pad, they are actually general-purpose computers capable of
running almost any kind of application.
The trick is to find Palm OS applications to fit your needs and to be
able to share your data with your Linux system.
Palm OS devices incorporate software to synchronize their data with 
programs running on another computer.
Such software for use on a Windows 95 system is generally bundled with
the device.
A MacOS version is also available.
If the foriegn computer is running some other operating system, you
need to find third party software to work with your Palm OS device.
This document describes such software that is available for use on a
Linux or unix system.

<!--
<sect1>What is a Pilot?
<p>
The Pilot is a small pen-based Personal Digital Assistant (PDA).
It is made by U. S. Robotics, now part of 3Com.

First there was the Pilot, then the PalmPilot, and now (name change due
in part to a court ruling) we have the Palm III from Palm Computing
Devices, a subsidiary of 3Com.

For those of you unfamiliar with the term, a
<it>Personal Digital Assistant</it>
is one of those small electronic devices which typically contain various
types of personal information, such as addresses and telephone numbers,
a calendar, checkbook registry, lists of reminders and/or memos and is
designed to be conveniently carried so as to be handy when the information
is needed.

The more adaptable PDAs, such as the Pilot, allow for the data stored on 
the PDA to be backed up to another computer and for data and new programs 
to be loaded onto the PDA from another computer.
-->


<sect1>This Document
<p>
The latest version of this document can be read at
<tt><htmlurl url="http://www.orbits.com/Palm/PalmOS-HOWTO.html"
name="http://www.orbits.com/Palm/PalmOS-HOWTO.html"></tt>,
and is part of the
Linux Documentation Project (LDP).
This document superceedes the previous version, which was called the
<tt>Pilot HOWTO</tt>.
See
<tt><htmlurl url="http://sunsite.unc.edu/LDP/"
name="http://sunsite.unc.edu/LDP/"></tt> for further information
about the LDP and other HOWTO documents.

If you find anything in this document which needs to be corrected or
better explained, please send me e-mail at the address above and
specify which version of this document you are referring to.

This document is Copyright &copy; 1997 &amp; 1998 by David H. Silber.
It is released under the copyright terms in the LDP HOWTO-INDEX document.

<sect1>See Also
<p>
The 
<tt><htmlurl url="http://www.orbits.com/Palm/PalmDevelompent-HOWTO.html"
name="http://www.orbits.com/Palm/PalmDevelompent-HOWTO.html"></tt>
document describes how to use the gcc-based development system to write
Palm OS applications.

The 
<tt><htmlurl url="http://www.orbits.com/Palm/PalmConduit-HOWTO.html"
name="http://www.orbits.com/Palm/PalmConduit-HOWTO.html"></tt>
document describes how to use the pilot-link libraries to write
Linux-resident conduits for use with Palm OS devices.

<sect1>Mailing List<label id="pilot-unix">
<p>
The pilot-unix mailing list is maintained by
Matthew Cravit
<htmlurl url="mailto:pilot-unix-owner@lists.best.com"
name="pilot-unix-owner@lists.best.com">.
Its mandate is:
<tscreen><verb>
The pilot-unix mailing list is for discussion and idea-sharing for those
interested in using the US Robotics Pilot PDAs with UNIX systems. This
includes people who are interested in helping to develop tools to allow the
Pilot to operate with UNIX, and possibly to develop an SDK for the Pilot
for Unix.
</verb></tscreen>

For more information, including how to subscribe to the list, send 
mail containing the word ``<tt>INFO</tt>''
to <tt><htmlurl url="mailto:pilot-unix-request@lists.best.com"
name="pilot-unix-request@lists.best.com"></tt>.
The subject line does not matter.

<sect1>Mailing List Archives<label id="pilot-unix-archives">
<p>
An archive of the pilot-unix mailing list can be found at
<tt><htmlurl url="http:///www.acm.rpi.edu/&tilde;albert/pilot/"
name="http:///www.acm.rpi.edu/&tilde;albert/pilot/"></tt>.
It is maintained by Chris Stevens
<htmlurl url="mailto:albert@acm.rpi.edu" name="albert@acm.rpi.edu">.

<sect1>FTP Site<label id="pilot-unix-ftp-site">
<p>
An FTP site containing an archive of Palm OS tools for use on unix systems
is located at 
<tt><htmlurl url="ftp://ryeham.ee.ryerson.ca/pub/PalmOS/" 
name="ftp://ryeham.ee.ryerson.ca/pub/PalmOS/"></tt>.
It is maintained by Jeff Dionne
<htmlurl name="jeff@ryeham.ee.ryerson.ca"
url="mailto:jeff@ryeham.ee.ryerson.ca">.



<sect>General Information

<sect1>Hardware Installation
<p>
Palm OS devices come with a ``cradle'' for exchanging data with the desktop
computer.
This device is actually a serial cable with a custom holder for the
Palm OS devices and an integrated `HotSync' button.
Plug your cradle into a spare serial port on your computer.
When you run each of the stand-alone programs, you will need to
place your Palm OS device in the cradle and push the `HotSync' button
so the Palm OS device knows that it has to communicate.
If the Palm OS device happens to be off when the button is pushed, it will
turn itself on.

For convenience, create a device, <tt>/dev/pilot</tt> which
will be an alternate name for the serial port to which your Palm OS device
cradle is connected.
As the root user, enter the following at the shell prompt:
<tscreen><verb>
ln /dev/cua0 /dev/pilot
</verb></tscreen>
Replace <tt>cua0</tt> with the name of the port to which you connected
your Palm OS device's cradle.

<!--
<sect1>Data Transfer vs. Synchronization
<p>
Before we get into the software available for use with Linux and
pilots, I want to define a couple of terms:
<descrip>
<tag/Data Transfer/The copying of data either to or from the Palm OS device.
<tag/Synchronization/Finding and transferring only that data which is
new, such that both sets of data end up being the same.
</descrip>

Typically, when transferring data, you will grab all data of a
particular type and copy it over.
The programs that do this generally have provisions for selecting a
sub-set of the data for copying.
When synchronizing, the two sets of data need to be compared and new
data must be moved in both directions.
Also, data deleted on either system must be deleted on the other.
As you can see, synchronization of data is much more difficult and is
based on there already being a method of transferring data.
-->



<sect>Sharing Palm OS device Data with your Linux System
<sect1>The pilot-link software
<p>
The pilot-link suite of software tools allows you to download
programs onto your Palm OS device, and transfer data for the Palm OS device's various built-in
programs between the Linux system and the Palm OS device.
While these programs are not quite as seamless as the desktop
software that comes with the Palm OS device, they do allow you to copy your
data in both directions.
In general, each separate program in the <tt>pilot-link</tt> suite
manages one type of data.

<!--
The
<ref id="PilotManager" name="PilotManager">
PilotManager software is built on top
of <tt>pilot-link</tt> and provides a more integrated solution, which
typically includes full synchronization of the various types of data.
-->

<sect2>Installing the pilot-link software
<p>
The prepackaged versions will inevitably lag slightly behind the master
distribution, but will be easier to install and not require configuration.
The master distribution might be a better choice in those rare occasions
when you have been waiting for a particular feature or bug fix.

You can get the <it>Debian Linux</it> (i386) port of
<it>pilot-link</it> version 0.8.7 from
<tt><htmlurl
url="ftp://ftp.debian.org/pub/debian/dists/stable/main/binary-i386/otherosfs/pilot-link_0.8.7-2.deb"
name="ftp://ftp.debian.org/pub/debian/dists/stable/main/binary-i386/otherosfs/pilot-link_0.8.7-2.deb"></tt>.
<tt><htmlurl
url="ftp://ftp.debian.org/pub/debian/dists/stable/main/binary-i386/otherosfs/pilot-link&lowbar;0.8.7-2.deb"
name="ftp://ftp.debian.org/pub/debian/dists/stable/main/binary-i386/otherosfs/pilot-link&lowbar;0.8.7-2.deb"></tt>.
If this file does not exist, you will likely find a newer version located
in the same directory.
If all else fails, or if you want a more recent version than has been
packaged for Debian, you can install the generic distribution, as
detailed below.
Install this file in the normal manner and skip to
<!--
<ref id="using pilot-link" name="Using the pilot-link software">.
-->
<it>Using the pilot-link software</it>.

You can get the <it>RedHat Linux</it> (i386) port of
<it>pilot-link</it> version 0.8.9 from 
<tt><htmlurl
url="ftp://ftp.redhat.com/pub/contrib/i386/pilot-link-0.8.9-1.i386.rpm"
name="ftp://ftp.redhat.com/pub/contrib/i386/pilot-link-0.8.9-1.i386.rpm"></tt>.
If this file does not exist, you will likely find a newer version located
in the same directory.
If all else fails, or if you want a more recent version than has been
packaged for RedHat, you can install the generic distribution, as
detailed below.
Install this file in the normal manner and skip to
<!--
<ref id="using pilot-link" name="Using the pilot-link software">.
-->
<it>Using the pilot-link software</it>.

For other versions of Linux or unix, or if you need the absolute latest
version, download the version 0.9.0 of pilot-link from 
<tt>
<htmlurl url="ftp://ryeham.ee.ryerson.ca/pub/PalmOS/pilot-link.0.9.0.tar.gz"
name="ftp://ryeham.ee.ryerson.ca/pub/PalmOS/pilot-link.0.9.0.tar.gz"></tt>.
The version number is likely to change, but new versions should end up
in the same location with a similar name.

Once you have the software distribution, unpack it with:
<tscreen><verb>
tar -xvzf pilot-link.0.9.0.tar.gz
</verb></tscreen>
If your version of tar does not support the <tt>-z</tt> option,
decompress the archive with gunzip, as follows:
<tscreen><verb>
gunzip pilot-link.0.9.0.tar.gz | tar -xvf -
</verb></tscreen>

This will create a directory (<tt>pilot-link.0.9.0</tt>) containing the
source.

Change your working directory to the source (<tt>pilot-link.0.9.0</tt>)
directory.

Run <tt>./configure</tt>.
This will search through your system for information needed to compile
the software.
<tt>configure</tt> will set things up to be installed in
<tt>/usr/local</tt> by default.
If you want to change it, run <tt>./configure --prefix=DIR</tt>, where
<tt>DIR</tt> is replaced with the name of the directory to which the
software will be installed.

Run <tt>make</tt>.
This will compile the software.
The software will not be installed until later, so that you have a chance
to try it out first.
(If you are replacing an older version with a newer release, you may wish
to check and make sure that no functionality that you need has been broken.
Generally, this is not a problem.)

As the root user, run <tt>make install</tt>.
This will copy the software into directories under <tt>/usr/local</tt>
(or wherever you specified with the <tt>--prefix</tt> option).
If you can not log in as root, you can install the software to some
directory where you have write access.

Don't forget to add any new directories of executables to your search path.

<sect2>Using the pilot-link software<label id="using pilot-link">
<p>
Most of the programs in the <tt/pilot-link/ suite are <it/conduits/,
that is they transfer data into or out of your Palm OS device.

Each time you use of one of these programs, press the HotSync button on your
Palm OS device's cradle.
This will initiate the Palm OS device side of the data transfer.
Note that not all of these programs prompt you to press the
`HotSync' button, so you may have to remember to do it yourself.

<!--
	The category specification is optional and is case insensitive.
	If you do not specify a category for a memo, it will be set to the most
	recent one specified or `Unfiled'.
	If the category that you specify does not exist, the memo(s) will be
	stored under the `Unfiled' category.
-->

For more details, and other options to these programs, view the
corresponding manual page.
There is an overview manual page under the name <tt>pilot-link</tt>.
For the <tt>pilot-xfer</tt> program, for example, type
<tt>man pilot-xfer</tt> at your unix shell prompt.

<!--
If you are going to use <tt>PilotManager</tt>, you may not need to
bother learning to use these (more primitive) tools.
-->


<sect3>pilot-xfer<label id="pilot-xfer">
<p>
Possibly the most useful program in the pilot-link suite,
<tt>pilot-xfer</tt> allows you to install programs on your Palm OS device, make
a backup, and restore that backup.


To install a program:
<tscreen><verb>
pilot-xfer /dev/pilot -i program.prc
</verb></tscreen>

To backup your Palm OS device:
<tscreen><verb>
pilot-xfer /dev/pilot -b backup-directory
</verb></tscreen>
This will copy all of the databases on your Palm OS device, (including programs?)
to a directory called ``backup-directory'', creating it if it does not
already exist.

To restore data to Palm OS device:
<tscreen><verb>
pilot-xfer /dev/pilot -r backup-directory
</verb></tscreen>
Generally, you will only need to do this if your Palm OS device loses power
or if you have to do a hard reset.

To list the programs on your Palm OS device:
<tscreen><verb>
pilot-xfer /dev/pilot -l
</verb></tscreen>



<sect3>install-memo
<p>
Install a Linux file onto the Palm OS device as a memo.

To install a memo into your (already existing) <it>project</it> category:
<tscreen><verb>
install-memo /dev/pilot -c project project.memo
</verb></tscreen>

The name of the file will be inserted into the memo as its first line 
and will appear in the directory of memos on your Palm OS device.


<sect3>memos
<p>
This program grabs each memo from the Palm OS device and prints it out in
standard mailbox format.

To view your memos:
<tscreen><verb>
memos /dev/pilot 
</verb></tscreen>


<!--
<sect3>install-todos
<p>
This program takes each line of each specified file and stores it as a
todo item.
For some odd reason, it set the priority to 4 and marks each todo item
that it installs as completed.
-->

<!--
<sect3>read-todos
<p>
This program grabs each todo item from the Palm OS device and prints it out.
-->


<!--
<sect3>addresses
<p>
<tt>addresses</tt> dumps the contents of the Palm OS device's address database
to the standard output.
-->


<sect3>pilot-addresses
<p>
<tt>pilot-addresses</tt> Transfer the address database to or from the Palm OS device.

To write your address data to a Linux file from your Palm OS device:
<tscreen><verb>
pilot-addresses /dev/pilot -w storage.file
</verb></tscreen>

To read your address data from a Linux file onto your Palm OS device:
<tscreen><verb>
pilot-addresses /dev/pilot -r storage.file
</verb></tscreen>


<!--
<sect3>read-ical
<p>
This program is supposed to read data from the Palm OS device and put it into
the specified ical data file.
It does not seem to work correctly at this time.
I am told that it does work and I will investigate this.
-->


<!--
<sect3>getrom
<p>
In order to use xcopilot, you need a copy of your Palm OS device's ROM.
This program receives that data from a program on the Palm OS device?
FIX-ME:  This needs more work.


<sect3>pi-port
<p>
FIX-ME:  I am not sure exactly what this program does.


<sect3>pilot-clip
<p>
FIX-ME:  I am not sure exactly what this program does.


<sect3>pilot-debug
<p>
FIX-ME:  I am not sure exactly what this program does.


<sect3>pilot-dedupe
<p>
FIX-ME:  I am not sure exactly what this program does.


<sect3>pilot-file
<p>
FIX-ME:  I am not sure exactly what this program does.


<sect3>pilot-mail
<p>
FIX-ME:  I am not sure exactly what this program does.


<sect3>pilot-schlep
<p>
FIX-ME:  I am not sure exactly what this program does.


<sect3>pilot-undelete
<p>
FIX-ME:  I am not sure exactly what this program does.


<sect3>read-expenses
<p>
FIX-ME:  I am not sure exactly what this program does.


<sect3>reminders
<p>
FIX-ME:  I am not sure exactly what this program does.
-->


<sect1>MakeDoc
<p>
One short-coming of the Palm OS device's built-in memo program is that it
does not deal well with large documents.
To compensate for this,
<url url="mailto:rbram@concentric.net" name="Rick Bram"> wrote
<it>Doc</it>, a document reader for the Palm OS device.
(See <tt><htmlurl url="http://www.concentric.net/&tilde;rbram/doc.shtml"
name="http://www.concentric.net/&tilde;rbram/doc.shtml"></tt>).
<!--
% There is also <url url="http://" name="Jdoc">, written by
% <url url="mailto:" name="FIX-ME:"> which provides a similar
% functionality, but with a different set of features.
% Both of these programs use documents in the same format.
-->
Documents can be converted to the Doc format with <tt>MakeDoc</tt>,
by <url url="mailto:pat.beirne@sympatico.ca" name="Pat Beirne">.


<sect2>Installing MakeDoc
<p>
<tt>MakeDoc</tt> can be downloaded from
<tt><htmlurl url="http://www.concentric.net/&tilde;rbram/makedoc7.cpp"
name="http://www.concentric.net/&tilde;rbram/makedoc7.cpp"></tt>.
Compile it with your C++ compiler and install the resulting executable
as ``<tt>makedoc</tt>'' in a directory in your search path.
There seems to be a small bug in <tt>makedoc</tt> (version 0.7a) in
that it does not output a newline as the last character displayed to
the user.
This does not seem to affect the resulting document file, but it is
annoying.
<!--
Perhaps I will fix this if I get a chance.
-->

There is a new version out, but it requires Java.
Take a look at Pat Beirne's MakeDoc web page at
<tt><htmlurl url="http://cpu563.adsl.sympatico.ca/MakeDocJ.htm"
name="http://cpu563.adsl.sympatico.ca/MakeDocJ.htm"></tt>.


<sect2>Using MakeDoc
<p>
Use <tt>MakeDoc</tt> as follows:
<tscreen><verb>
makedoc data.txt data.prc "Data to display with Doc"
</verb></tscreen>
This will create a file <tt>data.prc</tt>, which can be installed
on your Palm OS device with
<!--
<ref id="pilot-xfer" name="pilot-xfer">.
-->
pilot-xfer.
The text <it>"Data to display with Doc"</it> will be displayed in the
directory of documents that <it>Doc</it> manages.

The syntax for <tt>MakeDoc</tt> is as follows:
<tscreen><verb>
makedoc [-n] [-b] <text-file> <prc-file> <story-name>
or
makedoc -d [-b] <prc-file> <text-file>
</verb></tscreen>
<descrip>
<tag/&lt;text-file&gt;/The file that you wish to convert.
<tag/&lt;prc-file&gt;/The name of the resulting file.  (End the name
with ``<tt>.prc</tt>''.)
<tag/&lt;story-name&gt;/The name you want displayed in the <tt>Doc</tt>
or <tt>Jdoc</tt> directory of documents.
</descrip>

There are also options to decode the resulting <tt>.prc</tt> file
and manage various compression options.


<!--
<sect1>PilotManager<label id="PilotManager">
<p>
<tt>PilotManager</tt> is a generalized tool which allows
multiple databases to be synchronized in a single HotSync session.

I have not been able to build and install <tt/PilotManager/ in time to
write about it for this version of the Palm OS-HOWTO.

A few links that might be helpful:
<itemize>
<item>The PilotManager package:
<tt><url url="http://playground.sun.com/&tilde;bharat/pilotmgr.html"
name="http://playground.sun.com/&tilde;bharat/pilotmgr.html"></tt>
<item>A patch:
<tt><url url="ftp://ftp.orbits.com/pub/Pilot/pilotmgr,v1.009-BETA-3.patch"
name="ftp://ftp.orbits.com/pub/Pilot/pilotmgr,v1.009-BETA-3.patch"></tt>
</itemize>
This patch for PilotManager is only intended for use with PilotManager
version 1.009 Beta 3 when used with pilot-link version 0.8.0.
Install the PilotManager source and apply the patch with the commands:
<tscreen><verb>
tar -xvzf pilotmgr,v1.009-BETA-3.dev.tar.gz
cd pilotmgr,v1.009-BETA-3
patch -p1 < ../pilotmgr,v1.009-BETA-3.patch
</verb></tscreen>
I hope to be able to install this software soon and report about it in a
future version of this document.
-->


<!--
<sect2>Installing PilotManager
<p>
Download <url url="http://playground.sun.com/&tilde;bharat/pilotmgr.html"
name="the PilotManager package">.
As of version 1.009-BETA-3, you will need to apply a
<url url="ftp://ftp.orbits.com/pub/Pilot/pilotmgr,v1.009-BETA-3.patch"
name="patch">.
Install the PilotManager source and apply the patch with the commands:
<tscreen><verb>
tar -xvzf pilotmgr,v1.009-BETA-3.dev.tar.gz
cd pilotmgr,v1.009-BETA-3
patch -p1 < ../pilotmgr,v1.009-BETA-3.patch
</verb></tscreen>

<sect2>Using PilotManager
<p>
I have not been able to properly install PilotManager on my system, so
I have no idea how to use it.
I'm sure it can be installed, as other people apparently have done so.
Hopefully, I'll get it right soon so that I can document it properly.
-->

<!--
<sect>Palm OS Applications

<sect1>Useful (freeware &amp; shareware) applications.
<p>
In general these applications are packaged in zip files.
You will need the
<url url="???" name="unzip program"> to recreate the <tt/.prc/ files.
Once unzipped, install the programs with
X |++
<ref id="pilot-xfer" name="pilot-xfer">.
++ X
pilot-xfer.
<sect2>Doc
<sect2>J-Doc
<p>
Like <it>Doc</it>, J-Doc displays documents.
While it also works with Japanese language texts, the benefit to
english-reading people is that it has different features than <it>Doc</it>
does.
<sect2>SoftGPS
<p>
This is a wonderful application.
 With it you will always know where you are.
<sect2>DinkyPad
-->
<!--
<sect2>
<sect2>
<sect2>
<sect2>
<sect2>
<sect1>Web sites of interest
-->


<appendix>
<sect>People
<p>
<url name="Kenneth Albanowski" url="mailto:kjahds@kjahds.com">
Maintains the pilot-link suite of tools.

<url name="Donnie Barnes" url="mailto:djb@redhat.com">
Packaged pilot-link suite as Red Hat RPM files.

<url name="Rick Bram" url="mailto:rbram@concentric.net">
Author of Doc.

<url name="Matthew Cravit" url="mailto:pilot-unix-owner@lists.best.com">
List owner for the <it>
<!--
<ref id="pilot-unix" name="pilot-unix">
-->
pilot-unix
</it> mailing list.

<url name="Jeff Dionne" url="mailto:jeff@ryeham.ee.ryerson.ca">
Original author of the pilot-link suite of tools.
Manages the
<!--
<ref id="pilot-unix-ftp-site"
name="FTP area for the UNIX Palm OS/Pilot development project">.
-->
FTP area for the UNIX Palm OS/Pilot development project.

<url name="Mark W. Eichin" url="mailto:eichen@kitten.gen.ma.us">
Ported pilot-link suite to Debian Linux.

<url name="David H. Silber" url="mailto:pilot@orbits.com">
Author of this document.

<url name="Chris Stevens" url="mailto:albert@acm.rpi.edu">
Maintains the
<!--
<ref id="pilot-unix-archives"
name="pilot-unix mailing list archives">.
-->
pilot-unix mailing list archives.

<sect>A History of Palm OS devices.
<p>
There are two versions of the Pilot.
They are the <it/1000/ and the <it/5000/ and have 128k and 512k of RAM,
respectively. They come with Palm OS 1.0 in ROM.

Then came two devices with the name <it>PalmPilot</it>.
They are the <it/PalmPilot Personal/ and the <it/PalmPilot Professional/
and have 512k and 1 Meg of RAM, respectively.
They also have a backlighting feature for the LCD panel and version
2.0 of the operating system.
The <it/Professional/ also comes with a TCP/IP stack and a few extra
programs built-in.

(IBM has released a rebadged version of the PalmPilot Professional,
which they call a <it/WorkPad/.)

Now we have the Palm III, which has a redesigned case and an infrared
port, not to mention the 2 Meg of RAM and Palm OS 3.0.

It is possible to upgrade any Pilot by swapping out the memory card,
which includes both RAM &amp; ROM.
Of course, this doesn't get you backlighting for the original Pilot
series.


</article>
