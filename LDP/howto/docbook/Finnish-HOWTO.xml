<?xml version="1.0" encoding="ISO-8859-1"?>

<!DOCTYPE book PUBLIC "-//OASIS//DTD DocBook XML V4.1.2//EN"
     "http://docbook.org/xml/4.1.2/docbookx.dtd" []>
<book>
<bookinfo>
        <title>Finnish HOWTO</title>
        <date>July 18, 2001</date>
        <author>
                <firstname>Ari</firstname>
                <surname>Mäkelä</surname>
                <affiliation>
                        <address>
                                <email>hauva@iki.fi</email>
                        </address>
                </affiliation>
        </author>

        <revhistory>
            <revision>
               <revnumber>v2.0.5</revnumber>
               <date>2001-09-14</date>
               <authorinitials>am</authorinitials>
               <revremark>
                Fixed locale example.
                Fixed some typos.
                Fixed some mark-up errors.
                Added irc and elm-me+
               </revremark>
            </revision>
            <revision>
               <revnumber>v2.0.4</revnumber>
               <date>2001-07-18</date>
               <authorinitials>am</authorinitials>
               <revremark>
                Completely rewritten.
               </revremark>
            </revision>
        </revhistory>

        <abstract>
                <title>Abstract</title>
                <para>
		This document describes how to localize GNU/Linux for
		Finnish users and is intended to replace Pekka
		Taipale's original Finnish-HOWTO which has not been
		updated for some time. This document derives from
		original Finnish HOWTO and more importantly from the
		Danish-HOWTO by Niels Kristian Bech Jensen.
                </para>
                <para>
                Language of the HOWTO is Finnish. Non-Finnish users
                should consult Danish HOWTO which is not in Danish but
                in English.
                </para>
        </abstract>
</bookinfo>

<toc></toc>

<chapter id="intro">
<title>Johdanto</title>

<sect1 id="whatis">
<title>Mikä on HOWTO?</title>

<para>
Tämän dokumentin tarkoituksen on antaa ohjeet GNU/Linuxin
asetusten suomalaistamiseksi asennuksen
jälkeen. Lähtökohtana on tekijän
käyttämä <emphasis>Debian GNU/Linux</emphasis> (kirjoitushetkellä
versio 2.2), mutta dokumentista on todennäköisesti
hyötyä myös muiden jakeluiden käyttäjille,
vaikka erityisesti erilaisten käynnistysskriptien nimet ja paikat
vaihtelevat eri distribuutioiden välillä hyvinkin paljon.
</para>

<para>
GNU/Linux on muuttunut paljon sitten Pekka Taipaleen alkuperäisen
Finnish-HOWTO:n: sen asentaminen on muuttunut helpommaksi ja asetukset
ovat entistä useammin valmiiksi oikein, mutta aina näin ei
ole eikä suinkaan ole haitaksi tietää miten GNU/Linuxin
kieliasetukset toimivat.
</para>

<para>
GNU/Linux on entistä useammin palvelinkäytossä ja siksi
on entistä tärkeämpää huomata <filename>/etc</filename>-hakemiston
alla olevien konfiguraatiotiedostojen ero verrattuna
käyttäjien kotihakemistoissa oleviin
konfiguraatiotiedostoihin. Asetukset, joiden on tarkoitus olla
kaikilla voimassa on syytä olla <filename>/etc</filename>-hakemistossa.
</para>

</sect1>

<sect1 id="whatisnot">
<title>Mitä tämä dokumentti ei käsittele?</title>

<para>
Dokumentti ei lokaalien osalta käsittele
GNU/Linux-järjestelmiä, jotka käyttävät
C-kirjaston versiota viisi tai vanhempia. Yksikään
valtajakelu ei enää näitä C-kirjastoja
käytä (Debian ja Red Hat vaihtoivat C-kirjastonsa versioissa
Debian GNU/Linux 2.0 ja Red Hat Linux 5.0).
</para>

<para>
Dokumentti ei käsittele XFree86:n versiota 3.2 vanhempia versioita.
</para>
</sect1>

<sect1 id="copyright">
<title>Tekijänoikeuksista ja kopioinnista</title>

<para>
Dokumenttia saa muuttaa ja levittää <emphasis>GNU Free Documentation
License</emphasis> version 1.1 ehtojen mukaisesti. Dokumentin lähteinä
ovat toimineet erityisesti <emphasis>Niels Kristian Bech Jensenin
Danish-HOWTO</emphasis> ja jossain määrin <emphasis>Pekka Taipaleen
Finnish HOWTO v. 1.1f</emphasis>.
</para>

<para>
Tekijä ei vastaa mahdollisista virheistä, mutta ottaa korjaus- ja
parannusehdotuksia mielellään vastaan osoitteeseen <email>hauva@iki.fi</email>.
</para>
</sect1>

<sect1 id="markup">
<title>Tekstin esitystavasta</title>

<para>
Dokumentti on kirjoitettu DocBookin XML-versiolla, josta on tuotettu
muut versiot.
</para>

</sect1>

<sect1 id="thanks">
<title>Kiitokset</title>

<para>
Kiitän kaikkia minulle meilitse ja uutisryhmässä sfnet.atk.linux
kommentteja esittäneitä ihmisiä.
</para>

</sect1>

</chapter>

<chapter id="keyboard">
<title>Näppäimistöasetukset</title>

<para>
Konsolilla näppäimistöasetukset asetetaan <command>loadkeys</command>
ja <emphasis>X Window System</emphasis>issä <command>xmodmap</command>
komennolla.
</para>

<sect1 id="charset">
<title>Merkistö</title>

<para>
Suomalaistettu GNU/Linux käyttää kansainvälistä
<emphasis>ISO-8859-1</emphasis>- eli
<emphasis>Latin-1</emphasis>-merkistöä. Tämän määritteleminen ei ole
aina välttämätöntä, mutta monet tärkeät ohjelmat vaativat sen
asettamisen.
</para>

<para>
Euro löytyy uudemmasta <emphasis>ISO-8859-15</emphasis>- eli
<emphasis>Latin-9</emphasis>-merkistöstä. Tästä lisää myöhemmin.
</para>

<sect2 id="loading_keymap">
<title>Näppäimistökartan lataaminen</title>

<sect3 id="console_keymap">
<title>Konsolissa</title>

<para>Näppäimistökartan voi ladata käskyllä

<command>
	loadkeys /usr/share/keymaps/i386/qwerty/fi-latin1.map.gz
</command>
</para>

<para>
Joissakin jakeluissa näppäimistökartan nimessä on
<filename>.map.gz</filename> päätteen sijasta
<filename>.kmap.gz</filename> pääte. Näppäimistökarttojen sijainnissa
on eroja eri distribuutioiden välillä. Näppäimistökartat löytää
esimerkiksi käskyllä

<command>
	find /usr -name '*latin1.*map*' -print
</command>
</para>

<para>

Debian GNU/Linuxissa loadkeys ajetaan käynnistyksen aikana skriptistä
<filename>/etc/init.d/keymaps.sh</filename>. Red Hatissa käynnistyksen
aikana suoritetaan yleensä
<filename>/etc/rc.d/init.d/keytable</filename> -skripti. Tämä skripti
lukee <filename>/etc/sysconfig/keyboard</filename> -tiedoston, jossa
määritellään käytettävä näppäimistökartta. Näppäimistön ollessa
suomenkielinen tietosto sisältää sauraavan rivin:

<screen>
	KEYTABLE=fi-latin1
</screen>
</para>
</sect3>

<sect3 id="keymap_xfree86_3">
<title>XFree86 3</title>

<para>
<emphasis>XFree86 3.2</emphasis>:ssa ja uudemmissa
<filename>/etc/X11/XF86Config</filename>-tiedostossa pitäisi olla
<emphasis>Keyboard section</emphasis> -kohdassa seuraavat rivit:
</para>

<screen>
	Section "Keyboard"
	   Protocol        "Standard"
	   XkbRules        "xfree86"
	   XkbModel        "pc102"
	   XkbLayout       "fi"
	   XkbVariant      "nodeadkeys"
	EndSection
</screen>

<para>
Näitä, kuten monia muitakin, asetuksia voi muokata omien mieltymyksien 
mukaan ja alla on esimerkkinä Debian GNU/Linux 2.2 (tätä
kirjoitettaessa kyseessä oli vielä kehitysversio) "Keyboard Section:"
</para>

<screen>
	Section "Keyboard"
	   Protocol        "Standard"
	   AutoRepeat      500 30
	   LeftAlt         Meta
	   RightAlt        Meta
	   ScrollLock      Compose
	   RightCtl        Control
	   XkbKeycodes     "xfree86"
	   XkbTypes        "default"
	   XkbCompat       "default"
	   XkbSymbols      "us(pc101)"
	   XkbGeometry     "pc"
	   XkbRules        "xfree86"
	   XkbModel        "pc102"
	   XkbLayout       "fi"
	EndSection
</screen>

<para>
Lisätietoja XF86Config-tiedoston manuaalisivulta.
</para>
</sect3>

<sect3 id="keymap_xfree86_4">
<title>XFree86 4</title>

<para>
XFreen versiossa neljä on hiukan erilaiset näppäimistöasetukset, joista tässä 
esimerkki:
</para>

<screen>
	Section "InputDevice"
        	Identifier      "Generic Keyboard"
	        Driver          "keyboard"
	 	Option          "CoreKeyboard"
 		Option          "XkbRules"      "xfree86"
	 	Option          "XkbModel"      "pc105"
	 	Option		"XkbLayout"     "fi"
	EndSection
</screen>

</sect3>

</sect2>

<sect2 id="dead_keys">
<title>Kuolleet näppäimet</title>

<para>
Kuolleet näppäimet ovat näppäimiä, joiden
painaminen ei tulosta mitään ruudulle ennenkuin painetaan
toista näppäintä. Mm. <emphasis>tilde, ~</emphasis>, on tällainen
näppäin.
</para>

</sect2>

</sect1>

</chapter>

<chapter id="screen_and_programs">
<title>Näytön ja ohjelmien asetukset</title>

<para>
<!-- FIXME useimmat? -->
Useimmat ohjelmat pitää kääntää "8-bit-clean", jotta ne toimisivat
hyvin skandinaavisilla merkeillä. Jotkin ohjelmat tarvitsevat muitakin 
asetuksia.
</para>

<sect1 id="locale_settings">
<title>Locale-asetukset</title>

<para>
Debianissa <filename>/etc/environment</filename> ja Red Hatissa 
<filename>/etc/sysconfig/i18n</filename>
</para>

<screen>
LANG=C
LC_CTYPE=fi_FI
LESSCHARSET=latin1
</screen>

<para>
Red Hat Linux 5.2:ssa on virhe, jonka vuoksi <emphasis>linux-lat</emphasis> 
pitää muuttaa <emphasis>linux</emphasis>:ksi tiedostossa 
<filename>/etc/profile.d/lang.sh</filename>.
</para>

</sect1>

<sect1 id="euro">
<title>Euro-merkki</title>

<para>
Uusi merkistö, <emphasis>ISO-8859-15</emphasis> eli <emphasis>latin9</emphasis>
 on luotu korvaamaan <emphasis>ISO-8859-1</emphasis>
(latin1). EURO-paketti tarvitaan latin9-tukeen. Paketissa on sekä
fontit että näppäimistökartat. EURO-paketin tämänhetkinen sijainti on
valitettavasti dokumentin tekijälle tuntematon.
</para>

<para>
<ulink url="http://users.pandora.be/sim/euro/112/">KDE-projektin euro-sivut
</ulink>.
</para>

</sect1>

<sect1 id="printable_chars">
<title>Merkit, joita voidaan näyttää GNU/Linuxissa</title>

<para>
Komento

<command>
	dumpkeys -l | less
</command>

näyttää käytettävissä olevat merkit.
</para>

</sect1>

<sect1 id="program_keymap_settings">
<title>Ohjelmakohtaiset merkistöasetukset</title>

<para>
Monet ohjelmat vaativat erityisasetuksia toimiakseen. Esimerkiksi <emphasis>GNU
readline</emphasis> -kirjastoa käyttävät kirjastot lukevat <filename>
/etc/inputrc</filename>- tai
<filename>~/.inputrc</filename>-tiedostot käynnistyessään. 
Mm. <command>bash</command> ja <emphasis>MySQL</emphasis>:n
komentoriviasiakas käyttävät tätä kirjastoa.
</para>

<para>
Ennen ohjelmakohtaisia asetuksia on kuitenkin syytä säätää lokaalit
kuntoon. Ongelmat häviävät usein jo tällön.
</para>

<sect2 id="bash">
<title>bash</title>

<para>
Tiedostoon <filename>/etc/inputrc</filename> tai <filename>~/.inputrc
</filename> seuraavat rivit:
</para>

<screen>
	set input-meta on
	set output-meta on
</screen>

</sect2>

<sect2 id="elm">
<title>elm</title>

<para>
Tiedostoon <filename>~/.elm/elmrc</filename> seuraavat rivit:
</para>

<screen>
	charset = iso-8859-1
	displaycharset = iso-8859-1
	textencoding = 8bit
</screen>

<para>
Tämä ei välttämättä toimi kaikkien elm-versioiden kanssa.  Osittaisen
<emphasis>MIME</emphasis>-tuen saa elmiin
<emphasis>metamail</emphasis>-paketin avulla.
</para>

</sect2>

<sect2 id="elm-me-plus">
<title>elm</title>

<para>
Lisää tiedostoon <filename>/etc/elm-me/elm.mimecharsets</filename> 
seuraava rivi:
</para>

<screen>
fi_FI ISO-8859-1
</screen>

</sect2>

<sect2 id="emacs">
<title>emacs</title>

<para>
Nykyiset Emacsit toimivat oikein kunhan lokaaliasetukset ovat kunnossa.
</para>

<sect3 id="gnus">
<title>Gnus</title>

<para>
Gnus toimii merkistöjen osalta oikein ilman muutoksia <emphasis>GNU
Emacsin</emphasis> ja <emphasis>XEmacsin</emphasis> uudempien versioiden 
kanssa, mikäli näihin on käännetty mukaan <emphasis>monikielisyyslaajennukset
(MULE, Multi-lingual enhancements)</emphasis> ja järjestelmän lokaaliasetukset
on konfiguroitu oikein.
</para>

<para>
Muussa tapauksessa lisätään tiedostoon <filename>~/.gnus</filename>:
</para>

<screen>
         (setq gnus-default-posting-charset 'iso-8859-1)
         (setq message-default-charset 'iso-8859-1)
</screen>

</sect3>

<sect3 id="vm">
<title>vm</title>

<para>
Lisää tiedostoon <filename>~/.vm</filename>

<screen>
	(setq vm-mime-8bit-text-transfer-encoding '8bit)
</screen>
</para>

</sect3>
</sect2>

<sect2 id="irc">
<title>irc</title>
<para>
Lisätään tiedostoon <filename>/etc/irc/script/local</filename> 
rivit

<screen>
set EIGHT_BIT_CHARACTERS on 
set TRANSLATION LATIN_1 
</screen>
</para>

</sect2>

<sect2 id="groff">
<title>groff</title>

<para>
Käynnistetään groff käskyllä

<command>
	groff -Tlatin1 &lt;input-tiedosto&gt;
</command>
</para>

</sect2>

<sect2 id="joe">
<title>joe</title>

<para>
Käynnistetään joe käskyllä

<command>
	joe -asis
</command>

tai lisätään tiedostoon <filename>~/.joerc</filename>
</para>

<screen>
	-asis
</screen>

</sect2>

<sect2 id="kermit">
<title>kermit</title>

<para>
Epätäydellinen, mutta varsin toimiva <filename>~/kermrc</filename>:
</para>

<screen>
        set terminal bytesize 8
        set command bytesize 8
        set file bytesize 8
        set language finnish
        set file character-set latin1-iso
        set transfer character-set latin1-iso
        set terminal character-set latin1-iso	
</screen>

<para>
Asetuksia on muutettava jos remote host on
käyttöjärjestelmältään DOS tai OS/2.
</para>

</sect2>

<sect2 id="less">
<title>less</title>

<para>
Asetetaan ympäristömuuttuja:
<envar>
	LESSCHARSET=latin1
</envar>
Tämä ei ole välttämätöntä, jos järjestelmä tukee lokaaleja. Tällöin
voidaan myös asettaa ympäristömuuttujien <envar>LANG</envar>,
<envar>LC_CTYPE</envar> tai <envar>LC_ALL</envar> arvo.
</para>

</sect2>

<sect2 id="ls">
<title>ls</title>

<para>
<command>ls</command> toimii oikein kunhan lokaaliympäristömuuttuja <envar>
LC_CTYPE</envar>, <envar>LANG</envar> tai <envar>LC_ALL</envar> on asetettu.
</para>

</sect2>

<sect2 id="links">
<title>links</title>

<para>
Lisätään tiedostoon <filename>~/.links/.links.cfg</filename> rivi 
</para>

<screen>
	terminal2 "linux" 0 0 0 0 ISO-8859-1
</screen>

</sect2>

<sect2 id="lynx">
<title>lynx</title>

<para>
Tiedostoon <filename>~/.lynxrc</filename> seuraava rivi:
</para>

<screen>
	character_set=ISO Latin 1
</screen>

<para>
Tämän voi asettaa myös tiedostossa <filename>/etc/lynx.cfg</filename> tai 
lynxin <emphasis>Options</emphasis> -valikossa.
</para>

</sect2>

<sect2 id="man">
<title>man</title>

<para>
Katso <xref linkend="groff"/> groff.
</para>

</sect2>

<sect2 id="metamail">
<title>metamail</title>

<para>
Asetetaan ympäristömuuttuja
<envar>
	MM_CHARSET=ISO-8859-1
</envar>
</para>

</sect2>

<sect2 id="nn">
<title>nn</title>

<para>
Tiedostoon <filename>~/.nn/init</filename> seuraava rivi:
</para>
<screen>
	set data-bits 8
</screen>

</sect2>

<sect2 id="pine">
<title>pine</title>

<para>
Tiedostoon <filename>~/.pinerc</filename> seuraava rivi:
</para>

<screen>
	character-set=ISO-8859-1
</screen>

<para>
Tämä voidaan asettaa myös pinen <emphasis>Setup | Config</emphasis> -menussa.
pinen news-asetukset ovat:
</para>

<screen>
	enable-8bit-esmtp-negotiation
	enable-8bit-nntp-posting
</screen>

</sect2>

<sect2 id="rlogin">
<title>rlogin</title>

<para>
Käynnistetään rlogin käskyllä
<command>
	rlogin -8 foo.bar.fi
</command>
</para>

</sect2>

<sect2 id="sendmail">
<title>sendmail</title>

<para>
Lisätään tiedostoon <filename>/etc/sendmail.mc</filename> rivi
</para>

<screen>
	define(`confEIGHT_BIT_HANDLING', `mimefy')dnl
</screen>

<para>
tai lisätään <filename>/etc/sendmail.cf</filename>:ään rivit:
</para>

<screen>
	O EightBitMode=mimefy
</screen>

</sect2>

<sect2 id="tcsh">
<title>tcsh</title>

<para>
Lisätään tiedostoon <filename>/etc/csh.login</filename> tai <filename>~/.login
</filename> rivi
</para>

<screen>
	setenv LANG C
</screen>

<para>
Itse asiassa pitää vain määritellä ympäristömuuttuja <envar>LANG</envar> tai
<envar>LC_CTYPE</envar>. Arvolla ei ole merkitystä. tcsh:n manuaalisivulla on
lisätietoja.
</para>

</sect2>

<sect2 id="telnet">
<title>telnet</title>

<para>
Lisätään tiedostoon <filename>~/.telnetrc</filename> rivi jokaista remote 
hostia kohden:
</para>

<screen>
	hostname set outbinary true
</screen>

</sect2>

<sect2 id="tex_latex">
<title>TeX/LaTeX</title>

<para>
Aja ensin <command>texconfig</command>. Valitse <emphasis>hyphenation -> latex
</emphasis> ja poista
kommentointi <emphasis>finnish</emphasis> -sanan edestä sekä tallenna
tekemäsi muutokset. <envar>EDITOR</envar>-ympäristömuuttujan on
syytä olla kunnossa, jotta voit käyttää tuttua
editoria. Tämän jälkeen tarvitset vielä
ao. määritykset dokumenttiisi, jotta ääkköset
ja suomenkielinen tavutus toimisi.
</para>

<screen>
	\usepackage[latin1]{inputenc}
	\usepackage[T1]{fontenc}
	\usepackage[finnish]{babel}
</screen>

<para>
Lisätietoja <ulink url="ftp://ftp.funet.fi/pub/TeX/CTAN/documentation/lshort/finnish/lyhyt2e.ps">ftp://ftp.funet.fi/pub/TeX/CTAN/documentation/lshort/finnish/lyhyt2e.ps
</ulink>
</para>

</sect2>

<sect2 id="tin">
<title>tin</title>

<para>
Lisää <filename>~/.tin/headers</filename>-tiedostoon rivit
</para>

<screen>
	Mime-Version: 1.0
	Content-Type: text/plain; charset=iso-8859-1
	Content-Transfer-Encoding: 8bit
</screen>

</sect2>

</sect1>

<sect1 id="recode">
<title>Tekstitiedostoformaatit muilla alustoilla</title>

<para>
ISO-8859-1 -tekstitiedostoja voidaan muuttaa esimerkiksi
DOS-tekstitiedostoiksi käyttämällä <command>recode</command>-ohjelmaa 
koodisivulla 850. Esimerkiksi DOS-tiedosto foo.txt muutetaan 
unix-tekstitiedostoksi käskyllä
<command>
	recode cp850:latin1 foo.txt
</command>
recode on saatavissa Debian GNU/Linuxiin pakettina ja kaikista GNU
ftp-arkistoista. 
</para>
</sect1>

</chapter>

<chapter id="locales">
<title>Lokaalituki glibc2:ssa ja uudemmissa</title>

<para>
Monia kohdan Ohjelmakohtaiset näppäimistöasetukset ongelmia
voidaan välttäää asettamalle oikeat lokaaliasetukset.
</para>

<para>
Lokaaliasetuksia voi muuttaa monella tavalla, joita localen manuaalisivu kuvaa 
tarkemmin. Suosittuja asetuksia ovat ympäristömuuttujien <envar>LANG</envar>, 
<envar>LC_ALL</envar> tai <envar>LC_CTYPE</envar> arvon asettaminen arvoon
</para>

<screen>
	fi_FI
</screen>

<table id="table_locales" frame="none">
<title>Lokaalit</title>
<tgroup cols="2">
<thead>
<row>
<entry>Lokaaliympäristömuuttuja</entry>
<entry>Käyttö</entry>
</row>
</thead>
<tbody>
<row>
<entry>
  LC_COLLATE
</entry>
<entry>
Merkkijonojen järjesteminen.
</entry>
</row>
<row>
<entry>
LC_CTYPE
</entry>
<entry>
Merkkien luokittelu ja muuntaminen.
</entry>
</row>
<row>
<entry>
LC_MESSAGES			
</entry>
<entry>
Mm. "Yes" ja "No" -sanojen käännökset.
</entry>
</row>
<row><entry>LC_MONETARY
Raha-arvot
</entry>
</row>
<row>
<entry>
LC_NUMERIC
</entry>
<entry>
Numeeristen ei-raha-arvojen muotoilu
</entry>
</row>
<row>
<entry>
LC_TIME
</entry>
<entry>
Päivämäärän ja ajan muotoilu
</entry>
</row>
<row>
<entry>
LC_ALL
</entry>
<entry>
Määrittelee kaikki edellä mainitut ympäristömuuttujat
</entry>
</row>
<row>
<entry>
LANG
</entry>
<entry>
Määrittelee kaikki edellä mainitut ympäristömuuttujat, mutta
yksittäiset lokaaliympäristömuuttujat voi määritellä erikseen.
</entry>
</row>
</tbody>
</tgroup>
</table>

<para>
Tässä mallisesimerkki:
</para>

<screen>
LANG=C
LC_CTYPE=fi_FI
LESSCHARSET=latin1
</screen>

</chapter>

</book>
