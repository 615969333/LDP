From esr@thyrsus.com Thu Sep 13 18:56:06 2007
Return-path:
	<SRS0=YwRaEC=OJ=en.tldp.org=submit-return-9736-gferg=fergusontechgroup.com@fergusontechgroup.com>
Envelope-to: gferg@fergusontechgroup.com
Delivery-date: Thu, 13 Sep 2007 18:56:06 -0400
Received: from impinc02.yourhostingaccount.com ([10.1.13.102]
	helo=impinc02.yourhostingaccount.com) by mailscan16.yourhostingaccount.com
	with esmtp (Exim) id 1IVxbS-00088U-9Y for gferg@fergusontechgroup.com; Thu,
	13 Sep 2007 18:56:06 -0400
Received: from gabber.metalab.unc.edu ([152.2.241.57]) by
	impinc02.yourhostingaccount.com with NO UCE id nyw51X01u1F0SiY0000000; Thu,
	13 Sep 2007 18:56:05 -0400
X-EN-OrigIP: 152.2.241.57
X-EN-IMPSID: nyw51X01u1F0SiY0000000
Received: (qmail 24002 invoked by uid 1007); 13 Sep 2007 22:49:25 +0000
Mailing-List: contact submit-help@en.tldp.org; run by ezmlm
Precedence: bulk
X-No-Archive: yes
List-Post: <mailto:submit@en.tldp.org>
List-Help: <mailto:submit-help@en.tldp.org>
List-Unsubscribe: <mailto:submit-unsubscribe-##L=##H@en.tldp.org>
List-Subscribe: <mailto:submit-subscribe@en.tldp.org>
Delivered-To: mailing list submit@en.tldp.org
Received: (qmail 23962 invoked from network); 13 Sep 2007 22:49:13 +0000
Received-SPF: pass (gabber.metalab.unc.edu: SPF record at thyrsus.com
	designates 71.162.243.5 as permitted sender)
To: submit@en.tldp.org
Subject: Unix Hardware Buyer HOWTO update
Message-Id: <20070913224842.CEED33C08EB@snark.thyrsus.com>
Date: Thu, 13 Sep 2007 18:48:42 -0400 (EDT)
From: esr@thyrsus.com (Eric S. Raymond)
X-Evolution-Source: pop://1061.gferg@pop.powweb.com/
Mime-Version: 1.0
Content-Transfer-Encoding: 8bit

<?xml version="1.0"?>
<!DOCTYPE article PUBLIC 
    "-//OASIS//DTD DocBook XML V4.1.2//EN" 
    "docbook/docbookxx.dtd" [
<!ENTITY ldpsite       "http://www.tldp.org/">
<!ENTITY howto         "&ldpsite;HOWTO/">
<!ENTITY mini-howto    "&ldpsite;HOWTO/mini/">
<!ENTITY home          "http://www.catb.org/~esr/">
]>

<article id="index">
 <articleinfo>
  <title>The Unix Hardware Buyer HOWTO</title>

  <author>
     <firstname>Eric</firstname>
     <surname>Raymond</surname>
     <affiliation>
        <address>
           <email>esr@thyrsus.com</email>
        </address>
     </affiliation>
  </author>

  <abstract>
    <para>
This is your one-stop resource for information about how to buy and
configure generic PC hardware for cheap, powerful Unix systems.
    </para>
  </abstract>

   <revhistory>
      <revision>
         <revnumber>3.3</revnumber>
         <date>2007-18-13</date>
         <authorinitials>esr</authorinitials>
          <revremark>
	    Updated for 2007 conditions.  CRTs are dead. BTX is
	    dead. CD-ROMs are competely generic now. USB modems are
	    recommended.
          </revremark>
      </revision>
      <revision>
         <revnumber>3.2</revnumber>
         <date>2004-10-28</date>
         <authorinitials>esr</authorinitials>
          <revremark>
	    Fix and remove bad links.
          </revremark>
      </revision>
      <revision>
         <revnumber>3.1</revnumber>
         <date>2004-08-03</date>
         <authorinitials>esr</authorinitials>
          <revremark>
	    Sound cards don't matter any more.
          </revremark>
      </revision>
      <revision>
         <revnumber>3.0</revnumber>
         <date>2004-02-21</date>
         <authorinitials>esr</authorinitials>
          <revremark>
            Power-protection stuff moved to UPS HOWTO.  DIMM memory is
	    gone.  Tape drives don't make sense any more.  Lots of the
	    theory from my "Ultimate Linux Box"
	    articles now lives here.
          </revremark>
      </revision>

      <revision>
         <revnumber>2.4</revnumber>
         <date>2003-02-22</date>
         <authorinitials>esr</authorinitials>
          <revremark>
            URL fixes.
          </revremark>
      </revision>

      <revision>
         <revnumber>2.3</revnumber>
         <date>2002-08-06</date>
         <authorinitials>esr</authorinitials>
          <revremark>
	    Buying at the low end isn't a lose anymore.  I recommend
	    Athlons.  Nuked the section on video standards, EDID takes 
	    care of all that now.  Also removed the section on older
	    memory types.  And keyboards, as the "ergonomic" ones all
	    vanished along with the 1990s carpal-tunnel scare.
          </revremark>
      </revision>

      <revision>
         <revnumber>2.2</revnumber>
         <date>2002-08-05</date>
         <authorinitials>esr</authorinitials>
          <revremark>
	    New section on DVD drives.
          </revremark>
      </revision>

      <revision>
         <revnumber>2.1</revnumber>
         <date>2002-07-08</date>
         <authorinitials>esr</authorinitials>
          <revremark>
	    Corrected Kingston URL.  Various small updates for the last
	    year.  This HOWTO is much more stable than it used to be.
          </revremark>
      </revision>
      <revision>
         <revnumber>2.0</revnumber>
         <date>2001-08-09</date>
         <authorinitials>esr</authorinitials>
          <revremark>
	    Major update. Revisions based on Ultimate Linux Box experience.
	    Caches are on-chip now.  DDS4 tape drives are here.
	    486 machines, CD caddies, and most non-DDS backup
	    technologies are gone.
          </revremark>
      </revision>

      <revision>
         <revnumber>1.1</revnumber>
         <date>2001-06-13</date>
         <authorinitials>esr</authorinitials>
          <revremark>
            Mid-2001 update.
          </revremark>
      </revision>

      <revision>
         <revnumber>1.0</revnumber>
         <date>2001-02-06</date>
         <authorinitials>esr</authorinitials>
          <revremark>
            Initial revision; but see the history in the introduction.
          </revremark>
      </revision>
   </revhistory>

<!--
This is the revision history for the old PC-Clone Unix Hardware Buyer's Guide:

 Nov 9  1994: We resume publication after a long hiatus.
 Dec 1  1994: More about Pentiums, laptops, and dual-bus boards.
 Dec 13 1994: Pre-Christmas roundup.
 Jun 29 1995: More about E-IDE and SCSI disks.
 Jul 22 1995: More about printers for Unix.
 Jan 20 1996: Major update, with new material on Trends in Disk Capacity,
                  Modems, CD-ROMs, and many other topics.
 Mar 7  1996: Major update: Buying a Large Monitor.  Also, new material
                  on backup hardware, modems, printers.
 Jun 26 1996: More on caches and SCSI vs. IDE.  Also a handy glossary
                  of RAM-packaging terms.
 Oct 16 1996: Major Fall '96 update.  New stuff on the bus wars, modems,
                  benchmarks, lots of other topics.
 Dec 2  1996: New material on tape drives.
 Dec 10 1996: Reorganized and rewrote the `How To Buy' section. 
 Dec 16 1996: Added material on GDI printers and a new `Links' section.
                  Also more on RAM, ATX boards, video, and sound
		  cards, 33.6 modems.
 Jan  8 1997: Minor update on ATX, printers, keyboards.
 Mar 12 1997: Minor update on multimedia.
 Apr 5  1997: Minor update on SCSI cables, Exabyte, keyboards.
 Aug 7  1997: Minor upgrade of power section.
 Aug 12 1997: Major update: new stuff on the processor market,
                  memory, disk drives.
 Sep 12 1997: More good links.
 Sep 18 1997: Minor update on modems, keyboards, overall system prices.
 Dec 14 1997: Minor update on SCSI drives, and more resource links.
 Apr 21 1998: General update.  Modem section still needs work.
 Jun 7  1998: More on modems: V.90, ADSL, K2, 56Flex.
 Jul 24 1998: More on DAT drives.  Retired the 486 section and QIC
                  material. Updated section on processors and motherboards.
 Aug 24 1998: New section on tuning your I/O subsystem.
 Aug 28 1998: More stuff on modems thanks to Frederic Joly.
 Sep 9  1998: Yet more on modems and I/O tuning.  Fax section
                  removed, apparently it was obsolete and incorrect. 
 Dec 20 1998: Christmas update, various small fixes.
 Jun 11 1999: V90 modems have taken over.
 Jun 18 1999: Major Summer 1999 update.  We're actually current now.
 Jun 23 1999: Minor update based on suggestions from Andrew Comech.
 Jun 26 1999: Minor update on How To Buy.
 Jul  9 1999: Added link to http://www.pc-disk.de/pcdisk.htm
                  humongous disk database.
 Nov  6 1999: Minor updates on power protection and video cards.
 Apr 12 2000: Added link to the Linux Hardware Database.
 Jul 27 2000: Major update.  AGP rules graphics now.  Lots of
                  stale stuff about older processors removed; those
		  machines are just boat anchors now...
-->

 </articleinfo>

<sect1 id="intro"><title>Introduction</title>

<sect2 id="purpose"><title>Purpose of this document</title>

<para>The purpose of this document is to give you the background
information you need to be a savvy buyer of Intel hardware for running
Unix.  It is aimed especially at hackers and others with the technical
skills and confidence to go to the Internet/mail-order channel, but
contains plenty of useful advice for people buying store-front
retail.</para>

<para>This document is maintained and periodically updated as a service to
the net by Eric S. Raymond, who began it for the very best self-interested
reason that he was in the market and didn't believe in plonking down
several grand without doing his homework first (no, I don't get paid for
this, though I have had a bunch of free software and hardware dumped on me
as a result of it!).  Corrections, updates, and all pertinent information
are welcomed at <ulink
url="mailto:esr@snark.thyrsus.com">esr@snark.thyrsus.com</ulink>.  The
editorial &laquo;we&rsquo; reflects the generous contributions of many
savvy Internetters.</para>

<para>If you email me questions that address gaps in the FAQ material,
you will probably get a reply that says <quote>Sorry, everything I know
about this topic is in the HOWTO</quote>.  If you find out the
<emphasis>answer</emphasis> to such a question, please share it with
me for the HOWTO, so everyone can benefit.</para>

<para>If you end up buying something based on information from this HOWTO,
please do yourself and the net a favor; make a point of telling the vendor
<quote>The HOWTO sent me</quote> or some equivalent.  If we can show
vendors that this HOWTO influences a lot of purchasing decisions, we get
leverage to change some things that need changing.</para>

<para>Note that in December 1996 I published an introductory article on
building and tuning Linux systems summarizing much of the material in this
HOWTO.  It's <ulink url="&home;writings/lj-howtobuild.html">available
here</ulink>.  In 2001 I published an article on building the <ulink
url="&home;/writings/ultimate-linux-box/">Ultimate Linux
Box</ulink>.</para>

<para>This Buyer's Guide actually dates back to 1992, when it was known as
the <quote>PC-Clone Unix Hardware Buyer's Guide</quote>; this was before Linux
took over my world :-).  Before that, portions of it were part of 
a Unix Buyer's Guide that I maintained back in the 1980s on USENET.</para>

<para>It may be a matter of historical interest that the page count of this
guide peaked in mid-2001 and has been declining since.  Video, sound, and
other functions are migrating onto motherboards.  Several bus types have
disappeared, as have all the old-school backup technologies that couldn't
scale up to match disk capacities, Spec sheets are getting
simpler. Accordingly, there are parts that used to have whole sections to
hemselves that I barely even write about anymore &mdash; mice, floppy disks,
CD-ROM drives, and keyboards, for example, are utterly generic now,</para>

<para>Another consequence of the technology stabilizing is also that I'm 
updating this guide less often than I used to.  Years can now go by without
the PC market changing in any fundamental way. </para>

<para>In retrospect, the success of the ATX standard for motherboards in
1998-1999 was probably the turning point. The PC industry has become
sufficiently commoditized that your choices are now getting simpler rather
than more complicated.  This is a Good Thing.</para>

</sect2>
<sect2 id="newversions"><title>New versions of this document</title>

<para>New versions of the Unix Hardware Buyer HOWTO will be periodically be
uploaded to various Linux WWW and FTP sites, including the LDP home
page.</para>

<para>You can view the latest version of this on the World Wide Web via the
URL <ulink
url="&howto;Unix-Hardware-Buyer-HOWTO/">&howto;Unix-Hardware-Buyer-HOWTO/</ulink>.
</para>

</sect2>
<sect2 id="feedback"><title>Feedback and corrections</title>

<para>If you have questions or comments about this document, please
feel free to mail Eric S. Raymond, at <ulink
url="mailto:esr@thyrsus.com"> esr@thyrsus.com</ulink>. I welcome any
suggestions or criticisms.  If you find a mistake with this document,
please let me know so I can correct it in the next
version. Thanks.</para>

</sect2>
<sect2 id="resources"><title>Related resources</title>

<para>You may also want to look at the read the <ulink
url="&howto;Hardware-HOWTO.html">Hardware-HOWTO</ulink>.  It lists hardware
known to be compatible with Linux, and hardware known to be
incompatible. I've also done a series of articles on <ulink
url="&home;/writings/ultimate-linux-box/">The Ultimate Linux
Box</ulink>.</para>

</sect2>
</sect1>

<sect1 id="overview"><title>Overview of the Market</title>

<para>The central fact about PC hardware is that de-facto hardware
standards have created a commodity market with low entry barriers, lots of
competitive pressure, and volume high enough to amortize a
<emphasis>lot</emphasis> of development on the cheap.</para>

<para>The result is that this hardware gives you lots of
bang-per-buck, and it's getting both cheaper and better all the time.
Furthermore, margins are thin enough that vendors have to be lean,
hungry, and <emphasis>very</emphasis> responsive to the market to
survive.</para>

<para>One good general piece of advice is that you should avoid 
the highest-end new-technology systems (those not yet shipping in
volume). The problem with the high end is that it usually
carries a hefty <quote>prestige</quote> price premium, and may be a bit less
reliable on average because the technology hasn't been through a lot
of test/improve cycles.</para>

<para>There used to be a real issue with low-end PCs as well,
because there used to be a lot of dodgy crap PC components out
there going into boxes made by vendors trying to save a few cents.
That's not really a problem anymore.  Market pressure has been 
very effective at raising reliability standards for even low-end 
components as the market has matured.  It's actually hard to go
wrong even buying at the bottom end of the market these days.</para>

<para>I put together the first version of this guide around 1992;
Unix-capable systems are now ten to twenty times cheaper than they were
then.  At today's prices, building your own system from parts no
longer makes much sense at all &mdash;so this HOWTO is now more oriented
towards helping you configure a whole system from a single vendor.</para>

</sect1>
<sect1 id="basics"><title>Buying the Basics</title>

<para>In this section, we cover things to look out for that are more or less
independent of price-performance tradeoffs, part of your minimum system
for running Unix.</para>

<para>Issues like your choice of disk, processor, and I/O bus (where there is
a significant tradeoff between price and capability) are covered in the section
on <link linkend="optimize">What To Optimize</link>.</para>

<sect2><title>Things to Not Care About</title>

<para>An effect of PC commoditization is that there aren lots of things
you used to have to worry about that don't matter any more, because 
the market has completely flattened out.  We list these here to get them
out of the way.</para>

<sect3 id="buswars"><title>Bus Wars</title>

<para>The system bus is what ties all the parts of your machine together.
This is an area in which progress has simplified your choices a lot.  There
used to be no fewer than four competing bus standards out there (ISA, EISA,
VESA/VLB, PCI, and PCMCIA).  Now there is effectively just one &mdash;PCI-X
for desktop/tower machines. Even PCI is now legacy technology, and the
PCMCIA bus that seemed so important a few years back has been reduced to
near-irrelevance by Ethernet and WiFi hardware built onto
motherboards.</para>
</sect3>

<sect3 id="memory"><title>Memory</title>

<para>Judging the memory-controller and cache design used to be one of the
trickiest parts of evaluating a motherboard, but that stuff is all baked
into the processor itself now. This removed a large source of latency and
design variations.  It also killed off the plethora of different RAM
types that used to be out there.</para>

<para>Today's advice is very simple. Make sure the memory is rated for your
machine's bus speed, then buy as much as you can afford to stuff in your
machine.</para>

<para>For more technical stuff on memory architectures, see <ulink
url="http://www.kingston.com/tools/umg/default.asp">The Ultimate Memory
Guide</ulink> maintained by Kingston Technologies.</para>
</sect3>

<sect3 id="mice"><title>Keyboards and Mice</title>

<para>Keyboards are mostly generic nowadays.  One useful piece of advice is
to not buy any desktop machine with <quote>Internet</quote> buttons on it;
this is a sure sign of a PC that's an overpriced glitzy toy. Nowadays
keyboards with a USB connector are the norm, rather than the older
dedicated connectors; modern open-source Unixes handle these
just fine.</para>

<para>Mice and trackballs used to be simple; then, thanks to Microsoft,
they got complicated. Now they're simple again. Again, USB mice have
replaced the older PS/2-style dedicated connector.  XFree86 autodetects
your mouse when it starts up, so configuration is not a big deal any
more.</para>

<para>Beware that most PC vendors, being Windows-oriented, bundle
two-button mice.  Thus, you may have to buy your own
three-button mouse.  Ignore the adspeak about dpi and pick a
mouse or trackball that feels good to your hand.</para>

<para>Your humble editor really, really likes the Logitech TrackMarble, an
optical trackball that eliminates the chronic roller-fouling problems of
the older TrackMan.  They're well-supported by X, so any Linux or BSD will
accept them.</para>

</sect3>
<sect3 id="floppies"><title>Floppy Drives</title>

<para>There's no longer much to be said about floppy drives.  They're cheap,
they're generic, and the rise of CD-ROM drives as a cheap distribution
medium has made them much less important than formerly.  You only ever see
the 3.5-inch &lsquo;hard-shell&rsquo; floppies with 1.44MB capacity
anymore.</para>

<para>Bootable CD-ROMs killed off the last use of floppies, which was OS
installation.  So go ahead and settle for cheap Mitsumi and Teac floppy
drives.  There are no &lsquo;premium&rsquo; floppy drives anymore.  Nobody
bothers.</para>

<para>It's possible your system won't even include one. No loss.</para>

</sect3>
<sect3 id="cdrom"><title>CD-ROM Drives</title>

<para>Standard CD-ROMs hold about 650 megabytes of read-only data in a
format called ISO-9660 (formerly <quote>High Sierra</quote>).  All current
Unixes support these devices.  Unix and Linux software is now distributed
on ISO-9660 CD-ROM, a cheaper and better method than the QIC tapes we used
to use.</para>

<para>CD-ROM speed used to be a big deal; vendors advertised 2X, 4X, all
the way up to 40X.  Vendors don't bother any more; the drives are all about
equivalently fast now.</para>

<para>There are one or two minor features to watch for. Most CD-ROMS will
include a headphone jack so you can play audio CDs on them.  Better-quality
ones will also include two RCA jacks for use with speakers.  Another
feature to look for is a drive door or seal that protects the drive head
from dust.</para>

</sect3>
<sect3 id="backup"><title>Backup devices</title>

<para>It's good to be able to make backups that you can separate from your
system and store off-site in case of disaster. Until recently, tape drives
still seemed like a good idea for personal systems, but I found I seldom
used mine.  Today, tape drive with high enough capacity to image today's
huge hard disks are too expensive to make sense any more.</para>

<para>For the money you'd spend on a high-capacity tape drive (over
$1000) it makes more sense to buy a laptop and a pile of CD-RW media. Sit
the laptop on your house Ethernet when you're not traveling, and back up
the main machine to it every day, or oftener.  Between the efficiency of
rsync and the speed of 100-megabit Ethernet, this will be a lot faster than
making a tape.  Every once in a while, burn a set of backup CD-ROMs.</para>

<para>But CD-ROMs aren't reusable; the cost piles up over time.  An
interesting alternative is a small external USB hard drive, especially if
you can salvage an old laptop drive and put it in a USB enclosure.  These
enclosures are available for about $30; Google for "USB HD
Enclosure". This is faster than a tape, cheaper and lighter than a 
full laptop.</para>

</sect3>
</sect2>

<sect2 id="processor"><title>How To Pick Your Processor</title>

<para>Right now (late 2007), the chips to consider for running Unix are the
the 64-bit AMD Opteron or its Intel equivalents.  We've basically passed
the point at which 32-bit chips are interesting for new desktop systems;
choosing one won't save you more than small change any more.  The
transition isn't complete in laptops yet, which are mostly still using
32-bit chips to minimize their power draw.</para>

<para>Brands don't matter much, so don't feel you need to pay Intel's
premiums if you see an attractive Cyrix, AMD or other chip-clone
system offered.  In the last few years I've become a big fan of 
the AMD line. They used to be faster, cheaper, and better-designed than
Intel processors; today Intel has clawed back the speed advantage, but 
AMD chips still deliver more performance than you're likely to be able
to use and do it with lower power dissipation (thus, less noise and 
heat).</para>

<para>To compare the performance of different Intel-based systems with
each other and with machines from other manufacturers, you can take a
look at the SPECmark Table at <ulink
url="ftp://ftp.cdf.toronto.edu/pub/spectable">ftp://ftp.cdf.toronto.edu/pub/spectable</ulink>.
That document recommends (and I do too) that you read the SPEC FAQ at
<ulink
url="http://www.specbench.org/spec/faq">http://www.specbench.org/spec/specfaq.html</ulink>
to get background before browsing the table.</para>

</sect2>

<sect2 id='twospindles'><title> One Disk or Two?</title>

<para>I usually build with two disks &mdash; one <quote>system</quote> disk
and one <quote>home</quote> disk.  There are two good reasons to do this
that have nothing to do with the extra capacity.  One of them is the
performance advantage of being able to interleave commands to different
physical spindles that we'll explain a bit later in the section on disks.
The other is that I am quite a bit less likely to lose two disks at once
than I am to trash a single one.</para>

<para>Let's suppose you have a fatal disk crash.  If you have only one
disk, goodbye Charlie.  If you have two, maybe the crashed one was your
system disk, in which case you can buy another and mess around with a new
Linux installation knowing your personal files are safe.  Or maybe it was
your home disk; in that case, you can still run and do recovery stuff and
basic Net communications until you can buy another home disk and restore it
from backups (you <emphasis>did</emphasis> keep backups, right?).</para>

<para>Your performance-tuning choice is IDE versus SCSI.  We'll have more 
to say about that in <xref linkend='optimize'/>.</para>

</sect2>
<sect2 id="cases"><title>Getting Down to Cases</title>

<para>I used to say that cases are just bent metal, and that it doesn't
much matter who makes those.  Unfortunately, this isn't true any more.
Processors run so hot these days that fans and airflow are a serious
concern. They need to be well designed for proper airflow
throughout. </para>

<para>Look for the following quality features:</para>

<itemizedlist>
<listitem><para>Aluminum rather than steel.  It's lighter and conducts
heat better.</para></listitem>
<listitem><para>Unobstructed air intake with at least one fan each
(in addition to the power supply and processor fans)</para></listitem>
<listitem><para>No sharp metal edges. You doon't want to shred
your hands when you're tinkering with things.</para></listitem>
<listitem><para>There shouldn't be any hot spots (poor air flow).</para></listitem>
<listitem><para>Sturdy card clips.  Some poorly-designed cases allow cards 
to wiggle out of their slots under normal vibration.</para></listitem>
<listitem><para>Effective and easy to use mechanisms for attaching hard
drives, CD-ROM, CD-R/W, DVDs, etc.</para></listitem>
</itemizedlist>

<para>If you're fussy about RFI (Radio-Frequency Interference), it's worth
finding out whether the plastic parts of the case have conductive coating
on the inside; that will cut down emissions significantly, but a few cheap
cases omit it.</para>

<para>Should you buy a desktop or tower case?  Our advice is go with tower
unless you're building a no-expansions personal system and expect to be
using the floppies a lot.  Many vendors charge nothing extra for a tower
case, and the cost difference will be trivial even if they do.  What you
get for that is less desktop clutter, more and bigger bays for expansion,
and often (perhaps most importantly) a beefed-up power-supply and fan.
Putting the box and its fan under a table is good for maybe 5db off the
effective noise level, too.  Airflow is also an issue; if the peripheral
bays are less cramped, you get better cooling.  Be prepared to buy
extension cables for your keyboard and monitor, though; vendors almost
never include enough flex.</para>

<para>The airflow thing is a good argument for a full- or mid-tower rather
than the &lsquo;baby tower&rsquo; cases some vendors offer.  However, smaller
towers are getting more attractive as boards and devices shrink and
more functions migrate onto the motherboard.  A state of the art
system, with all 3&quot; disks, 300W power supply, half-size motherboard,
on-board SATA and 4GB of RAM sockets, and half-sized expansion cards,
will fit into a baby or midsized tower with ample room for expansion;
and the whole thing will fit under a desk and make less noise than a
classic tower.</para>

<para>For users with really heavy expansibility requirements,
rackmount PC cases do exist (ask prospective vendors).  Typically a
rackmount case will have pretty much the same functionality as an
ordinary PC case.  But, you can then buy drive racks (complete with
power supply), etc. to expand into.  Also, you can buy passive
backplanes with up to 20 or so slots. You can either put a CPU card in
one of the slots, or connect it to an ordinary motherboard through one
of the slots.</para>

</sect2>
<sect2 id="power"><title>Power Supplies and Fans</title>

<para>A lot of people treat power supplies as a commodity, so many
interchangeable silver bricks.  We know better &mdash; cheap power supplies
go bad, and when they go bad they have a nasty habit of taking out the
delicate electronics they're feeding.  Also, the power supply tends to be
the noisiest component in your system.</para>

<para>Give preference to supplies with a Underwriter's Laboratories rating.
There's some controversy over optimum wattage level.  On the one hand, you
want enough wattage for expansion.  On the other, big supplies are noisier,
and if you draw too little current for the rating the delivered voltage can
become unstable.  And the expected wattage load from peripherals is
dropping steadily.  On the other hand, processors and their cooling fans
eat a lot more power than they used to.</para>

<para>The choice is generally between 200W and 300W.  After some years of
deprecating 300W-and-up supplies as overkill, I'm now persuaded it's time
to go back to them; a modern processor can consume 50-75W by itself, and
for the newer dual-processor board the power supply needs to be rated 450W
or up.</para>

<para>Processors on modern motherboards run hot enough that all vendors
have gone to embedded temperature sensors and variable-speed
thermostat-controlled fans, out sheer self-defense (this used to be
a high-end only feature).</para>

<para>To cut noise, look for 120mm fans rather than the old-style 80mm
muffin fans.  These can move the same amount of air per minute rotating at a
lower tip speed, which means less vortex formation and less noise.  These
are now becoming standard even on cheap white-box hardware.</para>

<para>In garden-variety tower cases there often isn't enough airflow to
cool all components effectively with a single fan, even going at full
speed.  And the single fan in the power supply was basically designed to
cool the power supply, not the components in the case.  This is why
processors and some graphics cards have their own fans now.</para>

<para>A few years ago PCs often had two or more case fans in addition to
the power-supply fan.  This made sense in the era of 80mm fans and lots of
expansion cards obstructing the airflow, but it was noisy.  Nowadays, with
sound and graphics and Ethernet integrated onto motherboards, expansion
cards are much less common (and processors carry their own mini-fans).
Thus, today's standard is to mount one 120mm fan, usually low and forward
just beneath the disk-drive stack.  This is much quieter, like by a factor
of three or four.</para>

<para>The noise produced by a fan is not just a function of the speed with
which it turns.  It also depends on the nature of the airflow produced by
the fan blades and the bearings of the rotor. If the blades cause lots of
turbulent airflow, the fan produces lots of noise. One brand of fans that
is much more silent than most others even if going at full throttle is
<ulink url="http://www.papstplc.com/">Papst</ulink>.
</para>

</sect2>
<sect2 id="motherboards"><title>Motherboards</title>

<para>Provided you exercise a little prudence and stay out of the price
basement, motherboards and BIOS chips don't vary much in quality.  There
are only six or so major brands of motherboard inside all those cases and
they're pretty much interchangeable; brand premiums are low to nonexistent
and cost is strictly tied to maximum speed and bus type.  There are only
four major brands of BIOS chip (AMI, Phoenix, Mylex, Award) and not much to
choose between 'em but the look of the self-test screens (even the
<quote>name</quote> vendors use lightly customized versions of these).  One
advantage Unix buyers have is that Unixes are built not to rely on the BIOS
code (because it can't be used in protected mode without more pain than
than it's worth).  If your BIOS will boot properly, you're usually going to
be OK.</para>

<para>Some good features to look for in a motherboard include:</para>

<itemizedlist>
<listitem><para>Gold-plated contacts in the expansion slots and RAM
sockets.  Base-metal contacts tend to grow an oxidation layer which
can cause intermittent connection faults that look like bad RAM chips
or boards.  (This is why, if your hardware starts flaking out, one of
the first things to do is jiggle or remove the boards and reseat them,
and press down on the RAM chips to reseat them as well &mdash;this may
break up the oxidation layer.  If this doesn't work, rubbing what
contacts you can reach with a soft eraser is a good fast way to remove
the oxidation film. Beware, some hard erasers, including many pencil
erasers, can strip off the plating, too!)</para></listitem>

<listitem><para>The board should be speed-rated as high as your
processor, of course.  It's good if it's rated higher, so upgrade to a
faster processor is just a matter of dropping in the chip and a new
crystal.</para></listitem>
</itemizedlist>

<para>(I used to have "Voltage, temperature and fan speed monitoring
hardware." on this list.  But processors run so hot nowadays that all
current motherboards have it.)</para>

<para>The dominant form factor is still ATX.  Intel tried to replace it
with a new standard called BTX in late 2004-2005, but failed.  The
proposal was effectively withdrawn in 2006.</para>

</sect2>
<sect2><title>Monitor and Video</title>

<para>The largest user-visible change since the last update of this guide
is that the CRT (cathode-ray tube) is dead.  The manufacturers shut down
their production lines in late 2004; the remaining CRTs out there are old
stock that's been sitting in warehouses.  The only reason to buy one since
then has been to get high-end resolution at a price lower than the insanely
expensive high-end flatscreens; with 1920x1440 flatscreens now (late 2007)
becoming generally available at reasonable prives even that reason is gone.
It's all flatscreens now, baby.</para>

<para>On flatscreens, only two statistics matter; pixel size and response
time.  The biggest functional drawback of flatscreens relative to CRTs is
that they refresh more slowly, because cheical reactions in a flatscreen
pixel take longer than remodulating a flying electron beam.  You'll never
notice this during ordinary desktop use, but it can cause streakiness and
artifacts when you're playing games or viewing movies.  If you're going to
do that a lot, the price premium for a flatscreen with better response time
may be worth it.</para>

<para>Next, buy your card (if you have to; see next paragraph). This used
to be complicated, with issues like matching the video bandwidths of the
card and the CRT, and the amount of display memory.  Now it's simple; all
cards have enough display memory for every resolution in use, and the
issues are software (does it have an open-source driver, and do you
care?)</para>

<para>It's actually fairly likely you'll never buy a video card again.
Very capable graphics chips are routinely integrated onto motherboards now;
unless you're a gamer or somebody else who absolutely must have the latest
wheeze in 3D acceleration, they'll be good enough.  Even this is not
a stable situation, as 3D acceleration is commoditizing too.</para>

<para>I used to carry a lot of material on different video standards,
interlacing, and flicker.  That stuff is all obsolete now.</para>

<para>Here's what to look for on the monitor spec sheet:</para>

<itemizedlist> 
<listitem><para>Dot pitch of 0.28 or smaller on a 12&quot;-15&quot;
monitor; 0.30 is acceptable on larger ones, especially 19&quot; to 21&quot;
screens.  Dot pitch is the physical resolution of the screen's phosphor
mask.  Larger dot pitches mean that small fonts and graphic details will be
fuzzy.</para></listitem>

<listitem><para>5ms or lower response time.  3ms is better.</para></listitem>

<listitem><para>Does it have a tilt-and-swivel base?  Adequate
controls, including both horizontal and vertical size and horizontal
and vertical centering?  A color-temperature control is a plus; the last is
particularly important if you compose graphics on screen for hardcopy
from a printer.</para></listitem>
</itemizedlist>

<para>If you can, buy your monitor from someplace that will let you
see the same monitor (the very unit you will walk out the door with,
not a different or `demo' unit of the same model) that will be on your
system.  There's significant quality variation (even in "premium" monitor
brands) even among monitors of the same make and model.</para>
</sect2>
<sect2 id="dvd"><title>DVD Drives</title>

<para>(Most of this section courtesy of James Turinsky.)</para>

<para>Most drives manufactured after January 1st 2000, and some drives prior
to that have come installed with something called RPC2.</para>

<para>When a drive is RPC2, it means that it stores the Region code physically
within the drive. This means that nothing you do on the software level
will be of any help (including using DVD Genie or formatting your hard
drive).</para>

<para>The only means of bypassing this Regional Protection Scheme is by
using a firmware patch. A firmware patch is a special piece of software
written for a specific DVD Drive model. It will only works on that specific
model.</para>

<para>The original role of the firmware patch was to fix minor flaws in the
drive logic (a piece of programmable software within the drive, also
referred to as a "Firmware"). This logic also controls the Region
Checks, so some inventive programmers have modified these firmware
patches to remove the portion of logic that does the Regional checks,
thus making the drive region-free (RPC1 stands for region free).</para>

<para>However, since a firmware patch is specific to one drive model, it's
impossible to make a global fix for all drives on the hardware level.
This limitation requires programmers to modify each firmware patch that
comes out for various drives. And here lies the problem. Modifying a
firmware is not a simple task, it requires good understanding of the
hardware and some advanced programming skills. To top this off, there
are quite a few DVD Drive models out there, and not as many programmers
with the skill that can access these drives. So in reality, not all
drives have firmware patches that can make the drive region free.</para>

<para>So some foresight is required when buying a new DVD drive. You should
check if someone already released a patched firmware for the model you
wish to buy.</para>

<para>For more, see the <ulink url="http://forum.rpc1.org/portal.php">Firmware
Patches</ulink> site.</para>

</sect2>
<sect2 id="sound"><title>Sound Cards and Speakers</title>

<para>You can't buy a really bad sound card any more. Even low-end
sound cards or the sound chips embedded in a lot of PC motherboards 
these days support support all these features:</para>

<itemizedlist>
<listitem><para>16-bit sampling (for 65536 dynamic levels rather
	than 256).</para></listitem>
<listitem><para>Mono and stereo support.</para></listitem>
<listitem><para>Full-duplex mode.</para></listitem>
<listitem><para>Sampling rate of 44.1KHz (CD-quality).</para></listitem>
<listitem><para>MIDI interface via a standard 15-pin D-shell 
	connector.</para></listitem>
<listitem><para>RCA output jacks for headphones or speakers.</para></listitem>
<listitem><para>A microphone jack for sound input.</para></listitem>
</itemizedlist>

<para>In speakers, look for a magnetically-shielded enclosure with volume,
bass and treble controls.  Some speakers run off the card's 4-watt
signal; others are <quote>self-powered</quote>, using batteries or a separate
power supply.  Your major buying choice is which one of these options
to pursue.  Usually you'll want separately-powered speakers.</para>

<para>One final, important tip: that audio cable from your CD-ROM back
to the sound card is used only when you play audio CD-ROMs through
your speakers.  Software-generated sound goes through the system bus,
so you can play games with sound even if your sound board won't
accept the audio cable connector.</para>

</sect2>
<sect2 id="modems"><title>Modems</title>

<para>Demand for modems is dropping as more and more people get broadband
Internet through DSL and cable.  This section still has as much detail as 
it does only because (a) there are people out beyond the exurbs who 
can't get broadband, and (b) there are one or two remaining traps for 
the unwary.</para>

<para>The modem market has stabilized and standardized. If you can spend
$59, get a U.S. Robotics V.92 USB external.  You can then know that you've
got the best and skip the rest of this section.  If you really must
economize, spend $39 for the internal-card version (but you'll probably
regret the $20 first time you have to do diagnostics).</para>

<para>The modem market is like consumer electronics (and unlike the
computer market as a whole) in that price is a very poor predictor of
performance.  For ordinary file transfers, some $50 modems are better than
some $150 modems.  Paying top dollar mainly buys you better tolerance of
poor connections and better performance at heavy-duty bi-directional
transfers (such as you would generate, for exmaple, using SLIP or PPP over
a leased line to an Internet provider).</para>

<para>In today's market all modems do a nominal 56kbps &mdash;V.90 and V.92
plus V.29 or V.17 fax transmission and reception (over plain old phone
lines you won't get more than 53K of that).  You don't see much in the way
of slow/cheap to fast/expensive product ranges within a single brand,
because competition is fierce and for many modem board designs (those
featuring DSP (Digital Signal Processor) chips run by a program in ROM)
adding a new protocol is basically a software change.</para>

<sect3 id="modem_format"><title>Internal vs. External</title>

<para>Most modems come in two packagings: internal, designed to fit in
a PC card slot, and external, with its own case, power supply, and
front-panel lights.  Typically you'll pay $20 to $30 more for an
external modem than you will for the internal equivalent.  You'll also
need a serial port to connect your external modem to.</para>

<para>Pay that premium &mdash; being able to see the blinkenlights on
the external ones will help you understand and recover from
pathological situations.  For example, if your Unix system is prone to
<quote>screaming-tty</quote> syndrome, you'll quickly learn to recognize the
pattern of flickers that goes with it.  Punch the hangup/reset button
on an external modem and you're done &mdash; whereas with an internal
modem, you have to go root and flounder around killing processes and
maybe cold-boot the machine just to reset the card.</para>

<para>See <ulink url="http://linuxmafia.com/~rick/faq/">Rick's
Rants</ulink> for extended discussion of this point.</para>

</sect3>
<sect3 id="modem_pitfalls"><title>Pitfalls to Avoid</title>

<para>Don't buy a serial (RS232C) modem.  This used to be the only kind
there was, but they were always a bitch to configure and troubleshoot.
Go USB instead; the sanity you save may be your own.</para>

<para>If the abbreviation <quote>RPI</quote> occurs anywhere on the box,
don't even consider buying the modem.  RPI (Rockwell Protocol Interface) is
a proprietary <quote>standard</quote> that allows modem makers to save a
few bucks at your expense by using a cheap-jack Rockwell chipset that
doesn't do error correction.  Instead, it hands the job off to a modem
driver which (on a Unix machine) you will not have.</para>

<para>Also avoid anything called a <quote>Windows Modem</quote> or
<quote>WinModem</quote>, <quote>HCF</quote>, or <quote>HSP</quote>; these
lobotomized pieces of crap require a Windows DLL to run. They will eat up
to 25% of your processor clocks during transfers, and hog high-priority
interrupts (causing your machine to stall under Windows even if your
processor still has spare cycles). </para>

<para>Many fax modems come with bundled Windows fax software that is at
best useless under Unix, and at worst a software kluge to cover
inadequate hardware.  Avoid these bundles and buy a bare modem &mdash;
it's cheaper, and lowers the likelihood that something vital to your
communications needs has been left out of the hardware.</para>

<para>Avoid <quote>Class 1</quote> and <quote>Class 2</quote> modems.  Look
for <quote>Class 2.0</quote> for the full EIA-standard command set.</para>

</sect3>
<sect3><title>Fax Modems</title>

<para>Fax capability is included with effectively all modems these days; it's
cheap for manufacturers, being basically a pure software add-on.  The
CCITT also sets fax protocol standards.  Terms to know:</para>

<variablelist>
<varlistentry>
<term> V.29</term>
<listitem><para> CCITT standard for Group III fax encoding at 9600bps</para></listitem>
</varlistentry>
<varlistentry>
<term> V.17</term>
<listitem><para> CCITT standard for Group III fax encoding at
14400bps</para></listitem>
</varlistentry>
</variablelist>

<para>There's a separate series of standards for software control of fax
modems over the serial (or USB) line maintained by the Electronics Industry
Association and friends. These are:</para>

<para><firstterm>Class 1</firstterm> &mdash; base EIA standard for fax
control as extensions to the Hayes AT command set.</para>

<para><firstterm>Class 2.0</firstterm> &mdash; enhanced EIA standard
including compression, error correction, station ID and other
features.</para>

<para><firstterm>Class 2</firstterm> &mdash; marketroidian for anything
between Class 1 and Class 2.0.  Different <quote>Class 2</quote> modems
implement different draft subsets of the 2.0 standard, so <quote>Class
2</quote> fax software won't necessarily drive any given <quote>Class
2</quote> modem.</para>

<para>There's also a proprietary Intel "standard" called CAS, Communicating
Applications Specification.  Ignore it; only Intel products support it.</para>
</sect3>
</sect2>
<sect2 id="printers"><title>Printers</title>

<para>There really isn't all that much to be said about printers; the market is
thoroughly commoditized and printer capabilities pretty much independent
of the rest of your hardware.  The PC-clone magazines will tell you what
you need to know about print quality, speed, features, etc.  The business
users they feed on are obsessed with all these things.</para>

<para>(There used to be a problem with <quote>GDI printers</quote> and
<quote>WinPrinters</quote> that only worked with Windows &mdash;they
required special drivers that took over your CPU to do image processing,
These were such a bad idea that they have basically disappeared off the
market.)</para>

<para>Most popular printers are supported by GhostScript, and so it's easy
to make them do PostScript.  If you're buying any letter-quality
printer (laser or ink-jet), check to see if it's on GhostScript's
supported device list &mdash; otherwise you'll have to pay a premium for
Postscript capability!  Postscript is still high-end in the Windows
market, but it's ubiquitous in the Unix world.</para>

<para>Warning, however: if you're using ghostscript on a non-Postscript
printer, printspeed will be slow, especially with a serial printer.  A
bitmapped 600 dpi page has a <emphasis>lot</emphasis> of pixels on it.  At
today's prices, paying the small premium for Postscript capability makes
sense.</para>

<para>If you're buying a printer for home, an inkjet is a good choice
because it doesn't use gobs of power and you won't have the
toner/ozone/noise/etc mess that you do with a laser.  If all
you want is plain-ASCII, dot-matrix is cheaper to buy and run &mdash; if
you can find one.  Inexpensive ink-jets and lasers have almost driven 
them off the market.</para>

<para>Inkjets are great in that they're cheap, many of them do color, and
there are many kinds which aren't PCL but are understood by
Ghostscript anyway.  If you print very infrequently (less than weekly,
say), you should be careful to buy a printer whose print head gets
replaced with every ink cartrige: infrequent use can lead to the
drying of the ink, both in the ink cartrige and in the print head.
The print heads you don't replace with the cartrige tend to cost
nearly as much as the printer (~$200 for an Epson Stylus 800) once the
warranty runs out (the third such repair, just after the warranty
expired, totalled one informant's Stylus 800).  Be careful, check
print head replacement costs ahead of time, and run at least a
cleaning cycle if you don't actually print anything in a given week.
(Conversely, toner starts out dry, and ribbon ink won't evaporate for
years...if you truly print only rarely, but neither a dot matrix nor a
laser makes sense, consider buying no printer and taking your
PostScript files to a copy shop...)</para>

<para>Nowadays, a lot of printers are moving away from parallel-port
interfaces to USB.  This is a good idea, because USB devices announce
themselves to the host computer and can be automatically configured.
Parallel ports may be obsolete soon.</para>
</sect2>

<sect2 id="power_protection"><title>Power Protection</title>

<para>I strongly recommend that you buy a UPS to protect your hardware and
data.  MOV-filtered power bars make nice fuses (they're cheap to replace),
but they're not enough. I have written a <ulink url="&howto;UPS-HOWTO">UPS
HOWTO</ulink> that provides more complete coverage of what used to be in
this section.</para>
</sect2>

<sect2 id="rfi"><title>Radio Frequency Interference</title>

<para>(Thanks to Robert Corbett &lt;Robert.Corbett@Eng.Sun.COM&gt; for
contributing much of this section)</para>

<para>Radio Frequency Interference (RFI) is a growing problem with PC-class
machines.  Today's processor speeds are such that the electromagnetic noise
generated by a PC's circuitry in normal operation can degrade or jam radio
and TV reception in the neighborhood.  Such noise is called Radio Frequency
Interference (RFI).  Computers, as transmitting devices, are regulated by
the Federal Communications Commission (FCC).</para>

<para>FCC regulations recognize two classes of computer:</para>

<para>If a PC is to be used in a home or apartment, it must be
certified to be FCC class B.  If it is not, neighbors have a legal
right to prevent its use.  FCC class A equipment is allowed in
industrial environments.</para>

<para>Many systems are not FCC class B.  Some manufacturers build
boxes that are class B and then ship them with class A monitors or
external disk drives.  Even the cables can be a source of RFI.</para>

<para>It pays to be cautious.  For example, the Mag MX17F is FCC class
B.  There are less expensive versions of the MX17 that are not.  The
Mag MX17 is a great monitor (I wish I had one).  It would be painful
to own one and not be allowed to use it.</para>

<para>An upgradeable system poses special problems.  A system that is
FCC class B with a 33 MHz CPU might not be when the CPU is upgraded to
a 50 or 66 MHz CPU.  Some upgrades require knockouts in the case to be
removed.  If a knockout is larger than whatever replaces it, RFI can
leak out through the gap.  Grounded metal shims can eliminate the
leaks.</para>

<para>Even Class B systems don't mix well with wireless phonesets (not cellular
phones, but the kind with a base station and antennaed headset).  You'll often 
find a wireless phone hard to use withing 20 feet of a Class B machine.</para>

<para>To cut down on RFI, get a good metal case with tight joints, or at
least make sure any plastic one you buy has a conductive lining.  You
can also strip the painted metal-to-metal contacting parts of paint so
that there's good conductive metal contact.  Paint's a poor conductor
in most cases, so you can get some benefit from this.</para>

</sect2>
</sect1>
<sect1 id='optimize'><title>What To Optimize</title>

<sect2><title>First, add more memory</title>

<para>Max out your memory.  Having lots of free memory will improve your
virtual-memory performance (and Unix takes advantage of extra memory more
effectively than Windows does).  Fortunately, with RAM as cheap as it is
now, a gigabyte or three is unlikely to bust your budget even if you're
economizing.</para>

</sect2>
<sect2><title>Bus and Disk speeds</title>

<para>Most people think of the processor as the most important choice in
specifying any kind of personal-computer system.  But for typical job loads
under Linux, the processor type is nearly a red herring &mdash; it's far
more important to specify a capable system bus and disk I/O subsystem. If
you don't believe this, you may find it enlightening to keep
<citerefentry>
<refentrytitle>top</refentrytitle>
<manvolnum>1</manvolnum>
</citerefentry>
running for a while as you use your machine.  Notice how seldom the CPU
idle percentage drops below 90%!</para>

<para>It's true that after people upgrade their motherboards they often do
report a throughput increase.  But this is often more due to other changes
that go with the processor upgrade, such as improved cache memory or an
increase in the clocking speed of the system's front-side bus (enabling
data to get in and out of the processor faster).</para>

<para>If you're buying for Linux on a fixed budget, it makes sense to trade
away some excess processor clocks to get a faster bus and disk subsystem.
If you're building a monster hot-rod, go ahead and buy that fastest
available processor &mdash; but once you've gotten past that gearhead
desire for big numbers, pay careful attention to bus speeds and your disk
subsystem, because that's where you'll get the serious performance wins.
The gap between processor speed and I/O subsystem throughput has only
widened in the last five years.</para>

<para>How does it translate into a recipe in 2007?  Like this; if
you're building a hot rod,</para>

<itemizedlist>
<listitem><para><emphasis>Do</emphasis> buy a machine with the fastest
available "front-side" (e.g. processor-to-memory) bus.</para></listitem>

<listitem><para><emphasis>Do</emphasis> get a high-speed SCSI controller
and the fastest SCSI disks you can get your hands on.</para></listitem>
</itemizedlist>

<para>If you're economizing, you can back down on these.  But in trading
away SCSI for SATA your reliability (expected time before failure) will
drop.  We'll cover this in more detail in the next section.</para>

</sect2>
<sect2 id="diskwars"><title>Disk Wars: IDE vs. SCSI</title>

<para>For the fastest disks you can find, pay close attention to
average seek and latency time.  The former is an average time
required to seek to any track; the latter is the maximum time 
required for any sector on a track to come under the heads, and is
a function of the disk's rotation speed.</para>

<para>Of these, average seek time is <emphasis>much</emphasis> more
important.  When you're running Linux or any other virtual-memory operating
system, a one millisecond faster seek time can make a really substantial
difference in system throughput.  Back when PC processors were slow enough
for the comparison to be possible (and I was running System V Unix), it was
easily worth as much as a 30MHz increment in processor speed.  Today the
corresponding figure would probably be as much as 300MHz!</para>

<para>The manufacturers themselves avoid running up seek time on the
larger-capacity drives by stacking platters vertically rather than
increasing the platter size.  Thus, seek time (which is proportional
to the platter radius and head-motion speed) tends to be constant across
different capacities in the same product line.  This is good because it
means you don't have to worry about a capacity-vs.-speed tradeoff.</para>

<para>Disks of less than 40GB capacity simply aren't being manufactured
anymore; there's no margin in them.  Our spies tell us that all major disk
makers retooled their lines a while back to produce 9GB unit platters,
which are simply being stacked 2N per spindle to produce ranges of drives
with roughly 18GB increments of capacity. </para>

<para>Average drive latency is inversely proportional to the disk's
rotational speed.  For years, most disks spun at 3600 rpm; most disks now
spin at 7,200 or 10,000rpm, and high-end disks at 15,000 rpm. These
fast-spin disks run extremely hot; cooling is becoming a critical
constraint in drive design.</para>

<para>Another basic decision is SATA vs. SCSI (the older IDE and EIDE buses
are obsolete).  Either kind of disk costs about the same, but the premium
for a SCSI card varies all over the lot, partly because of price
differences between VLB and PCI SCSI cards and especially because many
motherboard vendors bundle an IDE chipset right on the system board.  SCSI
gives you better speed and throughput and loads the processor less, a win
for larger disks and an especially significant consideration in a
multi-user environment; also it's more expandable. You can have at most two
IDE devices; four for EIDE.  SCSI permits up to 7 (15 for wide
SCSI).</para>

<para>Admittedly, the case for SCSI has eroded a bit since 2001; the new
generation of SATA drives is very fast, and controller cards now normally
feature a channel per drive and DMA (Direct Memory Access), so that some of
of the multi-user contention problems that used to dog IDE have diminished.
At 10KRPM and below, SATA is as good as SCSI now (a painful admission for an
old-time IDE-hater like me), but at the 15KRPM high end SCSI still
rules.</para>

<para>Of course, SATA is cheaper.  Many motherboards have SATA right on board
now; if not, you'll pay maybe $15 for a SATA adapter board, as opposed
to $200+ for the leading SCSI controller.  Also, the cheap SCSI
cabling most vendors ship can be flaky.  You have to use expensive
high-class cables for consistently good results.  See <link
linkend="sutton">Mark Sutton's horror story</link>.</para>

<sect3><title>Enhanced IDE</title>

<para>These days you seldom see plain IDE; souped-up variants are more
usual.  These are "Enhanced IDE" (E-IDE) and "Fast AT Attachment" (usually
ATA for short).  ATA is Seagate's subset of E-IDE, excluding some features
designed to permit chaining with CD-ROMs and tape drives using the "ATAPI"
interface (an E-IDE extension); in practice, ATA and E-IDE are
identical.</para>

<para>You'll need to be careful about chaining in CD-ROMs and tape
drives when using IDE/ATA.  The IDE bus sends all commands to all
disks; they're supposed to latch, and each drive then checks to see
whether it is the intended target.  The problem is that badly-written
drivers for CD-ROMs and tapes can collide with the disk command set.
It takes expertise to match these peripherals.</para>

<para>Neither ATA nor E-IDE has the sustained throughput capacity of
SCSI (they're not designed to) but they are 60-90% faster than plain
old IDE.  E-IDE's new <quote>mode 3</quote> boosts the IDE transfer rate from
IDE's 3.3MB/sec to 13.3MB/sec.  The new interface supports up to 4
drives of up to 8.4 gigabytes capacity.</para>

<para>E-IDE and ATA are advertised as being completely compatible with
old IDE.  Theoretically, you can mix IDE, E-IDE and ATA drives and
controllers any way you like, and the worst result you'll get is
conventional IDE performance if the enhancements don't match up (the
controller picks the lowest latch speed).  In practice, some IDE
controllers (notably the BusLogic) choke on enhanced IDE.</para>

<para>Accordingly, I recommend against trying to mix device types an
an E-IDE/ATA bus.  Unfortunately, this removes much of E-IDE/ATA's
usefulness!</para>

<para>E-IDE on drives above 540MB does automatic block mapping to fool the
BIOS about the drive geometry (avoiding limits in the BIOS type tables).
They don't require special Unix drivers.</para>

<para>Many motherboards now support <quote>dual EIDE</quote> channels,
i.e. two separate [E]IDE interfaces each of which can, theoretically,
support two IDE disks or ATA-style devices.</para>

</sect3>
<sect3><title>Advantages of SCSI</title>

<para>For starters, SCSI is still at least 10%-15% faster than IDE/ATAPI
running flat out.  Like Windows, SATA Iis layered over a pile of ancestral
designs (ST-506 and IDE) that's antiquated and prone to failure under
stress.  For example, on the Tyan K7 motherboards, there are known
data-corruption problems with the ATA controller in the presence of various
DMA-using bus-mastering cards.</para>

<para>SCSI, on the other hand, was designed from the beginning to scale up
well to high-speed, high-throughput systems.  Because it's perceived as a
<quote>professional</quote> choice, SCSI peripherals are generally better
engineered than IDE/ATAPI equivalents, and new high-performing drive
technologies tend to become available in SCSI first.  You'll pay a few
dollars more, but for Linux the cost is well repaid in increased throughput
and reliability.</para>

<para>The one aspect of SCSI that often gets overlooked is that it is a
true multitasking interface, thanks to the
<quote>disconnect/reconnect</quote> sequence that almost all SCSI hardware
implements.  With disconnect/reconnect, if a target device has to perform
some kind of time-consuming mechanical operation (e.g., a seek in the case
of a disk or a medium position operation in the case of a tape drive) the
device will release control of the SCSI bus and allow it to be used for
some other operation.IDE/ATAPI has no such capability and is often
responsible for a system stall while a disk, CD-drive or tape drive seeks
to the desired medium position.</para>

<para>(Incidentally,  SCSI  performance  can sometimes be improved by setting
the  ID  of  the  most frequently used disk drive as high as possible.
The  SCSI priority pecking order is such that devices with higher ID's
get  first  crack  at  the  bus  when  arbitration  occurs  during the
selection phase.)</para>

<para>Rick's comments from 2001 are still apposite: "They call me a SCSI
bigot.  So be it &mdash; but my hardware keeps being future-proof, I don't have
to run bizarre emulation layers to address CDRs, I never run low on IRQs or
resort to IRQ-sharing (on account of 3-4 ATA controllers each needing one,
plus special adapters for scanners, etc.), all my hard drives have
hardware-level hot-fix, all my hard disk/CD/tape/etc. devices support a
stable standard rather than this month's cheap extension kludge, and I
don't have to worry about adverse interactions at the hardware or driver
levels from mixing ATA and SCSI."</para>

<para>The cutting edge in SCSI devices is ultra wide LVD
(low-voltage-differential) SCSI drives with 320MB/sec transfer speed,
running over a 68-pin cable (this is twice as fast as the LVD-160 drives we
used last time around). Vendors often call LVD drives "SCSI-3", which is
incorrect as most of these devices don't have built-in support for the
entire SCSI-3 protocol, and it would be overdesign if they did (the extra
commands are designed for use with CD and multimedia devices).</para>

<para>Fast ultra LVD is a bit more expensive to support than the older
versions of SCSI (for which key words are "single-ended", describing the
electrical interface, and "narrow", describing the width of data transfers
over the older-style 50-pin connector).  Thus, you're likely to find it
only on hard drives that are physically capable of doing high-speed
data access off their media; slower devices such as tapes and CD drives
are normally still built with the narrow single-ended variant.</para>

<!-- Following 'graph from Bill Brier, steggy@bcstechnology.net -->
<para>The LVD-160 standard defines the SCSI bus, not the drive itself.
Therefore, when used with a single hard drive in a lightly loaded system
(e.g., a Linux machine supporting only one user) LVD-160 will have only a
marginal effect on system performance.  This is because a single hard drive
running flat out will use only about 15-20 percent of the available
bandwidth, as current drive technology can manage no more than about 28-30
MB/sec off the platters, less if a time consuming seek is involved.  This
rate could be higher, of course, if a read request was pending and the
drive had cached the desired data.  Where the LVD-160 bandwidth really
becomes advantageous is in implementations of multiple drives (e.g., RAID
5) and/or when activities produce the frequent issue of drive access
commands.  The latter condition would be common in any environment that
supports a lot of users.</para>

<para>Current SCSI drives are not quite fast enough to flood more than half
the SCSI bus bandwidth, so you can have at least two drives on a single bus
pumping full speed without using it up.  In reality, you don't keep drives
running full speed all the time, so you should be able to have 3-4 drives
on a bus before you really start feeling bandwidth crunch.</para>

</sect3>
<sect3 id="scsi_terms"><title>SCSI Terminology</title>

<para>The following, by Ashok Singhal
&lt;ashoks@duckjibe.eng.sun.com&gt; of Sun Microsystems with additions
by your humble editor, is a valiant attempt to demystify SCSI
terminology.</para>

<para>The terms <quote>SCSI</quote>, <quote>SCSI-2</quote>, and
<quote>SCSI-3</quote> refer to three different specifications.  Each
specification has a number of options. Many of these options are
independent of each other.  I like to think of the main options (there are
others that I'll skip over because I don't know enough about them to talk
about them on the net) by classifying them into five categories:</para>

<sect4><title>Logical: SCSI-1, SCSI-2, SCSI-3</title>

<para>This refers to the commands that the controllers understand.  You'll
no longer see SCSI-1 in new hardware. SCSI-3 is a superset of SCSI-2
including commands intended for CD-R and streaming multimedia
devices.</para>

</sect4>
<sect4><title>Electrical Interface</title>
<itemizedlist>
<listitem><para>single-ended (max cable length 6 meters)</para></listitem>
<listitem><para>differential (max cable length 25 meters)</para></listitem>
</itemizedlist>

<para>This option is independent of command set, speed, and path width.
Differential is less common but allows higher transfer speeds, better noise
immunity and longer cables.  It's rare in SCSI-1 controllers.</para>

<para>You will normally see single-ended SCSI controllers on
low-speed devices such as tapes and CD drives, and differential
SCSI on hard drives (look for the specification LVD which means
"low-voltage differential").</para>

<para>Nowadays most controllers support both electrical interfaces, but if
you mix LVD with single-ended on the same chain, the whole chain will fall
back to single-ended (and possibly halve the speed of the faster
devices).</para>

</sect4>
<sect4><title>Handshake</title>
<itemizedlist>
<listitem><para>Asynchronous (acknowledge each word (8, 16 or 32 bits) transferred.</para></listitem>
<listitem><para>Synchronous (multiple-word transfers permitted between ACKS).</para></listitem>
</itemizedlist>

<para>Synchronous is faster.  This mode is negotiated between controller
and device; modes may be mixed on the same bus.  This is independent
of command set, data width, and electrical interface.</para>

</sect4>
<sect4><title>Synchronous Speed (does not apply for asynchronous option)</title>

<para>Normal transfer speed is 5 megabytes/sec.  The <quote>fast</quote>
option (10 mb/sec) is defined only in SCSI-2 and SCSI-3. Fast-20 (or
<quote>Ultra</quote>) is 20 mb/sec; Fast-40 (or "Ultra-2") is 40MB/sec.
The fast options basically defines shorter timing parameters such as the
assertion period and hold time.</para>

<para>The parameters of the synchronous transfer are negotiated
between each target and initiator so different speed transfers
can occur over the same bus.</para>

</sect4>
<sect4><title>Path width</title>

<para>The standard SCSI data path is 8 bits wide.  The <quote>wide</quote>
option exploits a 16- or 32-bit data path (uses 68-pin rather than 50-pin
data cables).  You also get 4-bit rather than 3-bit device IDs, so you can
have up to 16 devices.  The wide option doubles or quadruples your transfer
rate, so for example a fast-20/wide SCSI link using 16 bits transfers
40mb/sec.</para>

<para>What are those <quote>LUN</quote> numbers you see when you boot up?
Think of them as sub-addresses on the SCSI bus.  Most SCSI devices have
only one <quote>logical</quote> device inside them, thus they're LUN zero.
Some SCSI devices can, however, present more than one separate logical unit
to the bus master, with different LUNs (0 through 7).  The only context in
which you'll normally use LUNs is with CD-ROM juke boxes.  Some have been
marketed that offer up to 7 CD-ROMS with one read head. These use the LUN
to differentiate which disk to select.</para>

<para>(There's history behind this.  Back in the days of EISA, drives were
supposed to be under the control of a separate SCSI controller, which
could handle up to 7 such devices (15 for wide SCSI).  These drives
were to be the Logical Units; hence the LUN, or Logical Unit Number.
Then, up to 7 of these SCSI controllers would be run by the controller
that we today consider the SCSI controller.  In practice, hardware
cost dropped so rapidly, and capability increased so rapidly, it
became more logical to embed the controller on the drive.)</para>

</sect4>
</sect3>
<sect3><title>Avoiding Pitfalls</title>

<para>Here are a couple of rules and heuristics to follow:</para>

<para>Rule 1: Total SCSI cable length (both external and internal devices) must
not exceed six meters.  For modern Ultra SCSI (with its higher speed)
cut that to three feet!</para>

<para>It's probably not a good idea to cable 20MB/s or faster SCSI devices
externally at all.  If you must, one of our informants advises using a
Granite Digital <quote>perfect impedance</quote> teflon cable (or equivalent);
these cables basically provide a near-perfect electrical environment
for a decent price, and can be ordered in custom configurations if
needed.</para>

<para>A common error is to forget the length of the ribbon cable used
for internal devices when adding external ones (that is, devices
chained to the SCSI board's external connector).</para>

<para>Rule 2: Both ends of the bus have to be electrically terminated. </para>

<para>On older devices this is done with removable resistor packs
&mdash; typically 8-pin-inline widgets, yellow or blue, that are
plugged into a plastic connector somewhere near the edge of the PCB
board on your device.  Peripherals commonly come with resistor packs
plugged in; you must <emphasis>remove</emphasis> the packs on all
devices except the two end ones in the physical chain.</para>

<para>Newer devices advertised as having "internal termination" have a
jumper or switch on the PCB board that enables termination.  These
devices are preferable, because the resistor packs are easy to lose or
damage.</para>

<para>Rule 3: No more than seven devices per chain (fifteen for Wide
SCSI).</para>

<para>There are eight SCSI IDs per controller.  The controller reserves ID 7
or 15, so your devices can use IDs 0 through 6 (or 0 through 14,
wide).  No two devices can share an ID; if this happens by accident,
neither will work.</para>

<para>The conventional ID assignments are: Primary hard disk = ID 0,
Secondary hard disk = ID 1, Tape = ID 2.  Some Unixes (notably SCO)
have these wired in.  You select a device's ID with jumpers on the PCB
or a thumbwheel.</para>

<para>SCSI IDs are completely independent of physical device chain
position.</para>

<para>Heuristic 1: If you're buying narrow SCSI, stick with controllers and
devices that use the Centronics-style 50-pin connector.  Internally these
connectors are physically identical to diskette cables.  Externally they
use a D50 shell.  This "standard" connector is common in the
desktop/tower/rackmount-PC world, but you'll find lots of funky DIN and
mini-DIN plugs on devices designed for Macintosh boxes and some laptops.
Ask in advance and don't get burned.</para>

<para>Heuristic 2: For now, when buying a controller, go with an Adaptec
xx42 or one of its clones such as the BusLogic 542.  (I like the
BusLogic 946 and 956, two particularly fast Adaptec clones
well-supported under Linux.)  The Adaptec is the card everybody
supports and the de-facto standard.  Occasional integration problems
have been reported with Unix under Future Domain and UltraStor cards,
apparently due to command-set incompatibilities.  At least, before you
buy these, make sure your OS explicitly supports them. </para>

<para>However: Beware the combination of an Adaptec 1542 with a PCI Mach32 
video card.  Older (1.1) Linux kernels handled it OK, but all current ones
choke.  Your editor had to replace his 1542 because of this, swearing
sulphurously the while. </para>

<para>Heuristic 3: You'll have fewer hassles if all your cables are made by
the same outfit.  (This is due to impedence reflections from minor
mismatches. You can get situations where cable A will work with B,
cable B will work with C, but A and C aren't happy together.  It's
also non-commutative.  The fact that `computer to A to B' works
doesn't mean that `computer to B to A' will work.</para>

<para id="sutton">Heuristic 4. Beware Cheap SCSI Cables!</para>

<para>Mark Sutton tells the following instructive horror story in a
note dated 5 Apr 1997: </para>

<para>I recently added an additional SCSI hard drive to my home
machine.  I bought an OEM packaged Quantum Fireball 2 gig SCSI drive
(meaning, I bought a drive in shrinkwrap, without so much as mounting
hardware or a manual.  Thank God for Quantum's web page or I would
have had no idea how to disable termination or set the SCSI ID on this
sucker.  Anyway, I digress...).  I stuck the drive in an external
mounting kit that I found in a pile of discarded computer parts at
work and my that boss said I could have.  (All 5 of my internal bays
were full of devices.)</para>

<para>Anyway, I had my drive, and my external SCSI mounting kit, I
needed a cable.</para>

<para>I went into my friendly local CompUSA in search of a SCSI cable,
and side-by-side, on two hooks, were two "identical" SCSI cables.
Both were 3 feet.  Both had Centronics to Centronics connectors, both
were made by the same manufacturer.  They had slightly different model
numbers.  One was $16.00, one was $30.00.  Of course, I bought the $16
cable.</para>

<para>Bad, I say, bad <emphasis>bad</emphasis> mistake.  I hooked this
sucker up like so: </para>

<screen>
 +--------+   +-------+     +-----------+     +-------+
 |Internal|---|Adaptec|-----|New Quantum|-----|UMAX   |
 |Devices |   |1542CF |  ^  |  Disk     |  ^  |Scanner|
 +--------+   +-------+  |  +-----------+  |  +-------+ 
                         |                 |
                    New $16 cable   Cable that came
                                      with scanner.
</screen>

<para>Shortly after booting, I found that data all over my old internal hard
drive was being hosed.  This was happening in DOS as well as in Linux.
Any disk access on either disk was hosing data on both disks, attempts
to scan were resulting in corrupted scans *and* hosing files on the
hard disks.  By the time I finished swapping cables around, and
checking terminations and settings, I had to restore both Linux and
DOS from backups. </para>

<para>I went back to CompUSA, exchanged the $16 cable for the $30 one, hooked
it up and had no more problems. </para>

<para>I carefully examined the cables and discovered that the $30 cable
contained 24 individual twisted pairs.  Each data line was twisted
with a ground line.  The $16 cable was 24 data wires with one overall
grounded shield.  Yet, both of these cables (from the same
<emphasis>manufacturer</emphasis>) were being sold as SCSI cables! </para>

<para>You get what you pay for. </para>

<para>(Another correspondent guesses that the cheap cable probably
said <quote>Macintosh</quote> on it.  The Mac connector is missing most of its
ground pins.)</para>

</sect3>
<sect3 id="more_disks"><title>More Resources</title>

<para>There's a USENET
<ulink url="http://www.cis.ohio-state.edu/hypertext/faq/usenet/scsi-faq/top.html">
SCSI FAQ</ulink>.  Also see the home page of the 
<ulink url="http://www.t10.org">T10
committee</ulink> that writes SCSI standards.</para>

<para>There is a large searchable database of hard disk and controller
information at the <ulink url="http://www.pc-disk.de/pcdisk.htm">PC DISK
Hardware Database</ulink>.</para>

</sect3>
</sect2>
<sect2 id="iotune"><title>Tuning Your I/O Subsystem</title>

<para><emphasis>(This section comes to us courtesy of Perry The Cynic,
&lt;perry@sutr.cynic.org&gt;; it was written in 1998.  My own experience
agrees pretty completely with his. I have revised the numbers in it since
to reflect more recent developments.)</emphasis></para>

<para>Building a good I/O subsystem boils down to two major points:
<emphasis>pick matched components</emphasis> so you don't over-build any
piece without benefit, and <emphasis>construct the whole pipe such that
it can feed what your OS/application combo needs</emphasis>.</para>

<para>It's important to recognize that <quote>balance</quote> is with respect to not only
a particular processor/memory subsystem, but also to a particular OS
and application mix. A Unix server machine running the whole TCP/IP server
suite has radically different I/O requirements than a video-editing
workstation. For the <quote>big boys</quote> a good consultant will sample the I/O mix
(by reading existing system performance logs or taking new measurements)
and figure out how big the I/O system needs to be to satisfy that app
mix. This is not something your typical Linux buyer will want to do;
for one, the application mix is not static and will change over time. So what
you'll do instead is design an I/O subsystem that is internally
matched and provides maximum potential I/O performance for the money
you're willing to spend. Then you look at the price points and compare
them with those for the memory subsystem. That's the most important
trade-off inside the box.</para>

<para>So the job now is to design and buy an I/O subsystem that is well
matched to provide the best bang for your buck. The two major performance
numbers for disk I/O are latency and bandwidth. Latency is how long a
program has to wait to get a little piece of random data it asked for.
Bandwidth is how much contiguous data can be sent to/from the disk once
you've done the first piece. Latency is measured in milliseconds (ms);
bandwidth in megabytes per second (MB/s). Obviously, a third number of
interest is how big all of your disks are together (how much storage you've
got), in Gigabytes (GB).</para>

<para>Within a rather big envelope, minimizing latency is the cat's meow.
Every millisecond you shave off effective latency will make your system
feel significantly faster. Bandwidth, on the other hand, only helps you
if you suck a big chunk of contiguous data off the disk, which happens
rarely to most programs. You have to keep bandwidth in mind to avoid
mis-matching pieces, because (obviously) the lowest usable bandwidth in
a pipe constrains everything else.</para>

<para>I'm going to ignore IDE. IDE is no good for multi-processing systems,
period. You may use an IDE CD-ROM if you don't care about its
performance, but if you care about your I/O performance, go SCSI.
(Beware that if you mix an IDE CD-ROM with SCSI drives under Linux,
you'll have to run a SCSI emulation layer that is a bit flaky.)</para>

<para>Let's look at the disks first. Whenever you seriously look at a
disk, <emphasis>get its data sheet</emphasis>. Every reputable
manufacturer has them on their website; just read off the product code
and follow the bouncing lights.  Beware of numbers (`&lt;12ms fast!')
you may see in ads; these folks often look for the lowest/highest
numbers on the data sheet and stick them into the ad copy. Not
dishonest (usually), but ignorant.</para>

<para>What you need to find out for a disk is:</para>

<orderedlist>
<listitem><para>What kind of SCSI interface does it have? Look for
    "fast", "ultra", and "wide". Ignore disks that say "fiber"
    (this is a specialty physical layer not appropriate for the insides
    of small computers). Note that you'll often find the same disk with
    different interfaces.</para></listitem>

<listitem><para>What is the "typical seek" time (ms)? Make sure
    you get "typical", not "track-to-track" or "maximum" or some other
    measure (these don't relate in obvious ways, due to things like
    head-settling time).</para></listitem>

<listitem><para>What is the rotational speed? This is typically
    4500, 5400, 7200, 10000, or 15000 rpm (rotations per minute). Also look
    for "rotational latency" (in ms). (In a pinch, average rotational
    latency is approx. 30000/rpm in milliseconds.)</para></listitem>

<listitem><para>What is the &lsquo;media transfer rate&rsquo; or speed (in
    MB/s)? Many disks will have a range of numbers (say,
    7.2-10.8MB/s). Don't confuse this with the "interface transfer rate"
    which is always a round number (10 or 20 or 40MB/s) and is the speed of
    the SCSI bus itself.</para></listitem>
</orderedlist>

<para>These numbers will let you do apple-with-apples comparisons of disks.
Beware that they will differ on different-size models of the same disk;
typically, bigger disks have slower seek times.</para>

<para>Now what does it all mean? Bandwidth first: the `media transfer rate'
is how much data you can, under ideal conditions, get off the disk per
second. This is a function mostly of rotation speed; the faster the
disk rotates, the more data passes under the heads per time unit. This
constrains the sustained bandwidth of <emphasis>this disk</emphasis>.</para>

<para>More interestingly, your effective latency is the sum of typical seek
time and rotational latency. So for a disk with 8.5ms seek time and 4ms
rotational latency, you can expect to spend about 12.5ms between the
moment the disk `wants' to read your data and the moment when it
actually starts reading it. This is the one number you are trying to
make small. Thus, you're looking for a disk with low seek times and
high rotation (RPM) rates.</para>

<para>For comparison purposes, the first hard drive I ever bought was a
20MB drive with 65ms seek time and about 3000RPM rotation. A floppy drive
has about 100-200ms seek time. A CD-ROM drive can be anywhere between 120ms
(fast) and 400ms (slow). The best IDE harddrives have about 10-12ms and
5400 rpm. The best SCSI harddrive I know (the Fujitsu MAM) runs
3.9ms/15000rpm.</para>

<para>Fast, big drives are expensive. Really big drives are very
expensive. Really fast drives are pretty expensive. On the other end,
really slow, small drives are cheap but not cost effective, because it
doesn't cost any less to make the cases, ship the drives, and sell
them.</para>

<para>In between is a &lsquo;sweet spot&rsquo; where moving in either
direction (cheaper or more expensive) will cost you more than you get out
of it. The sweet spot moves (towards better value) with time. Right now
(early 2004), it's about at 36GB drives, 6ms, 10000rpm, ultra2 SCSI. If you
can make the effort, go to your local computer superstore and write down a
dozen or so drives they sell &lsquo;naked&rsquo;. (If they don't sell at
least a dozen hard drives naked, find yourself a better store. Use the Web,
Luke!)  Plot cost against size, seek and rotational speed, and it will
usually become pretty obvious which ones to get for your budget.</para>

<para>Do look for specials in stores; many superstores buy overstock from
manufacturers. If this is near the sweet spot, it's often
surprisingly cheaper than comparable drives. Just make sure you
understand the warranty procedures.</para>

<para>Note that if you need a lot of capacity, you may be better off with
two (or more) drives than a single, bigger one. Not only can it be cheaper
but you end up with two separate head assemblies that move independently,
which can cut down on latency quite a bit (see below).</para>

<para>Once you've decided which kind of drive(s) you want, you must decide
how to distribute them over one or more SCSI buses. Yes, you
<emphasis>may</emphasis> want more than one SCSI bus. (My current desktop
machine has three.)  Essentially, the trick is to make sure that all the
disks on one bus, talking at the same time, don't exceed the capacity of
that bus.  At this time, I can't recommend anything but an Ultra/Wide SCSI
controller. This means that the attached SCSI bus can transfer data at up
to 40MB/s for an Ultra/Wide disk, 20MB/s for an Ultra/narrow disk, and
10MB/s for a `fast SCSI' disk. These numbers allow you do do your math: an
8MB/s disk will eat an entire bus on its own if it's &lsquo;fast&rsquo;
(10MB/s). Three 6MB/s ultra/narrow disks fit onto one bus
(3x6=18MB/s&lt;20MB/s), but just barely. Two ultra/wide Cheetahs (12.8MB/s)
will share an (ultra/wide) bus (25.6&lt;40), but they would collide on an
ultra/narrow bus, and any one Cheetah would be bandwidth constrained on a
(non-ultra) `fast' bus (12.8 &gt; 10).</para>

<para>If you find that you need two SCSI buses, you can go with &lsquo;dual
channel&rsquo; versions of many popular SCSI controller cards (including
the Adaptec). These are simply two controllers on one card (thus taking
only one PCI slot). This is cheaper and more compact than two cards;
however, on some motherboards with more than 3 PCI slots, using two cards
may be somewhat faster (ask me what a PCI bridge is :-).</para>

<para>SCSI performance can sometimes be improved by setting the ID of the
most frequently used disk drive as high as possible.  The SCSI priority
pecking order is such that devices with higher ID's get first crack at the
bus when arbitration occurs during the selection phase.</para>

<para>How do you deal with slow SCSI devices &mdash; CD-ROMS, scanners, tape
drives, etc.?  If you stick these onto a SCSI bus with fast disks,
they will slow down things a bit. You can either accept that (as in <quote>I
hardly ever use my scanner anyway</quote>), or stick them onto a separate
SCSI bus off a cheap controller card. Or you can (try to) get an ATA
version to stick onto that inevitable IDE interface on your
motherboard. The same logic applies to disks you won't normally use,
such as removables for data exchange.</para>

<para>If you find yourself at the high end of the bandwidth game, be aware
that the theoretical maximum of the PCI bus itself is 132MB/s. That
means that a dual ultra/wide SCSI controller (2x40MB/s) can fill more
than half of the PCI bus's bandwidth, and it is not advised to add
another fast controller to that mix. As it is, your device driver
better be well written, or your entire system will melt down (figuratively
speaking).</para>

<para>Incidentally, all of the numbers I used are &lsquo;optimal&rsquo;
bandwidth numbers. The real scoop is usually somewhere between 50-70% of
nominal, but things tend to cancel out &mdash; the drives don't quite
transfer as fast as they might, but the SCSI bus has overhead too, as does
the controller card.</para>

<para>Whether you have a single disk or multiple ones, on one or several
SCSI buses, you should give careful thought to their partition layout.
Given a set of disks and controllers, this is the most crucial
performance decision you'll make.</para>

<para>A partition is a contiguous group of sectors on the disk. Partitioning
typically starts at the outside and proceeds inwards. All partitions
on one disk share a single head assembly. That means that if you try
to overlap I/O on the first and last partition of a disk, the heads
must move full stroke back and forth over the disk, which can
radically increase seek time delays. A partition that is in the
middle of a partition stack is likely to have best seek performance,
since at worst the heads only have to move half-way to get there (and
they're likely to be around the area anyway).</para>

<para>Whenever possible, split partitions that compete onto different
disks. For example, /usr and the swap should be on different disks if
at all possible (unless you have outrageous amounts of RAM).</para>

<para>Another wrinkle is that most modern disks use `zone sectoring'. The
upshot is that outside partitions will have higher bandwidth than inner
ones (there is more data under the heads per revolution). So if you
need a work area for data streaming (say, a CD-R pre-image to record),
it should go on an outside (early numbered) partition of a
fast-rotating disk. Conversely, it's a good convention to put
rarely-used, performance-uncritical partitions on the inside (last).</para>

<para>Another note concerns SCSI mode pages. Each (modern) SCSI disk has a
small part of its disk (or a dedicated EEPROM) reserved for persistent
configuration information. These parameters are called &lsquo;mode
pages&rsquo;, for the mechanism (in the SCSI protocol) for accessing
them. Mode page parameters determine, among others, how the disk will
write-cache, what forms of error recovery it uses, how its RAM cache is
organized, etc.  Very few configuration utilities allow access to mode page
parameters (I use FWB Toolkit on a Mac &mdash; it's simply the best tool I know
for that task), and the settings are usually factory preset for, uh,
Windows 95 environments with marginal hardware and single-user operation.
Particularly the cache organization and disconnect/reconnect pages can make
a tremendous difference in actual performance. Unfortunately there's really
no easy lunch here - if you set mode page parameters wrong, you can screw
up your data in ways you won't notice until months later, so this is
definitely `no playing with the pushebuttons' territory.</para>

<para>Ah yes, caches. There are three major points where you could cache I/O
buffers: the OS, the SCSI controller, and the on-disk controller.
Intelligent OS caching is by far the biggest win, for many reasons. RAM
caches on SCSI controller cards are pretty pointless these days; you
shouldn't pay extra for them, and experiment with disabling them if
you're into tinkering.</para>

<para>RAM caches on the drives themselves are a mixed bag. At moderate size
(1-2MB), they are a potential big win for Windows 95/98, because
Windows has stupid VM and I/O drivers. If you run a true multi-tasking
OS like Linux, having unified RAM caches on the disk is a significant
loss, since the overlapping I/O threads kick each other out of the
cache, and the disk ends up performing work for nothing.</para>

<para>Most high-performance disks can be reconfigured (using mode page
parameters, see above) to have `segmented' caches (sort of like a
set-associative memory cache). With that configured properly, the RAM
caches can be a moderate win, not because caching is so great on the
disk (it's much better in the OS), but because it allows the disk
controller more flexibility to reschedule its I/O request queue. You
won't really notice it unless you routinely have &gt;2 I/O requests
pending at the SCSI level. The conventional wisdom (try it both ways)
applies.</para>

<para>And finally I <emphasis>do</emphasis> have to make a
disclaimer. Much of the stuff above is shameless simplification. In
reality, high-performance SCSI disks are very complicated
beasties. They run little mini-operating systems that are most
comfortable if they have 10-20 I/O requests pending <emphasis>at the
same time</emphasis>. Under those circumstances, the amortized global
latencies are much reduced, though any single request may experience
<emphasis>longer</emphasis> latencies than if it were the only one
pending. The only really valid analysis are stochastic-process models,
which we <emphasis>really</emphasis> don't want to get into
here. :-)</para>

</sect2>
</sect1>
<sect1 id='economizing'><title>But What If I'm Economizing?</title>

<para>If you are economizing, here's a simple rule:</para>

<itemizedlist>
<listitem><para><emphasis>Do</emphasis> buy a CPU/motherboard one or two
levels lower than commercial state of the art.</para></listitem>
</itemizedlist>

<para>For best value, look in the <emphasis>middle</emphasis> of the current
range of available processors.</para>

<para>Why?  Because of the way manufacturers' price-performance curves are
shaped.  The top-of-line system is generally boob bait for corporate
executives and other people with more money than sense.  Chances are the
system design is new and untried &mdash; if you're at the wrong point in the
technology cycle, the chip may even be a pre-production sample, or an early
production stepping with undiscovered bugs like the infamous FDIV problem
in early Pentiums.  You don't need such troubles.  Better to go with a
chip/motherboard combination that's been out for a while and is known good.
It's not like you really need the extra speed, after all.</para>

<para>Besides, if you buy one of these gold-plated systems, you're only
going to kick yourself three months later when the price plunges by
30%.  Further down the product line there's been more real competition
and the manufacturer's margins are already squeezed.  There's less
room for prices to fall, so you won't watch your new toy lose street
value so fast.  Its price will still drop, but it won't plummet 
sickeningly.</para>

<para>Again, bear in mind that the cheapest processor you can buy new today
is plenty fast enough for Linux.  So if dropping back a speed level or 
two brings you in under budget, you can do it with no regrets.</para>

<para>Another easy economy measure is looking for repaired or reconditioned
parts with a warranty.  These are often as good as new, and much
cheaper.</para>

<para>Your display is one of the areas where pinching pennies is
<emphasis>not</emphasis> a good idea.  You're going to be looking at that
display for hours on end.  You are going to be using the screen real estate
constantly.  Buy the best quality, largest screen you possibly can &mdash; it
will be worth it.</para>
</sect1>

<sect1 id='noise'><title>Noise Control and Heat Dissipation</title>

<para>An increasingly critical aspect of machine design is handling the
waste heat and acoustic noise of operation.  This may seem like a boring
subject, but cooling is a centrally important one if you want your machine
to last &mdash; because thermal stress from the electronics' own waste heat
is almost certainly what will kill it.  You want that fatal moment to
happen later rather than sooner.  On the other hand, cooling makes acoustic
noise, which human beings don't tolerate well.</para>

<para>This tradeoff bites harder than you think; it's the fundamental
reason that, despite my money-is-no-object premise in the Ultimate Linux
Box artcles, I didn't go to relatively exotic technologies like
liquid-cooled overclocking or RAID disk arrays for a performance boost.
Sure, they may initially look attractive &mdash; but overclocked chips and
banks of disk drives require massive cooling with lots of moving parts, and
it's not good to be trying to do creative work like programming with
anything that sounds quite so much like an idling jet engine sitting beside
one's desk.</para>

<para>In 2001 we had already reached the point at which the thermal load
vs. cooling-noise tradeoff is the effective limiting factor in the
performance of personal machines.  Ten years ago, even low-end and medium
"server" machines differed from personal-PC designs in fairly important
ways (different processor and bus types, different speed ranges, etc.)
Nowadays specialized server architectures are in retreat at the high end of
the market and everything else looks like a PC.  And the difference between
a "PC" and a "server" is mainly that servers live in server rooms, and are
allowed to have monster cases with lots of noisy fans.</para>

<para>So how do we manage this tradeoff for a personal, desktop or
desk-side machine?  Careful choice of components and being willing to pay
some price premium for cool-running and low-noise characteristics can help
a lot.  Even exceptionally clueful system integrators can't generally
afford to do this, because they're under constant competitive pressure to
cut price and costs by using generic components.</para>

<para>Reducing expected noise and heat in a design call for different
strategies.  It's relatively easy to find decibel figures for the
noisemaking parts in a PC design.  And, once you know a little basic
audiometry and a few basic rules of thumb, it's not hard to form a fair
estimate of your design's noisiness.  Estimating a design's heat
dissipation is harder, partly because the waste-heat emission of a PC's
subsystems tends to vary in a more complex way than the acoustic emissions
of the mechanical parts.  This means that you can and should try to design
ahead for low noise, but on the other hand expect to have to monitor for
heat-dissipation problems in your prototype and solve them by building
in more cooling.</para>

<para>Here's the basic audiometry you need to know to control your
design's noise emissions:</para>

<para>Sound is measured in <firstterm>decibels</firstterm>, abbreviated dB,
relative to the threshold of audibility, "A".  (Thus, sound levels above
that threshold are written "dBA".)  The scale is logarithmic, with every
3dB increment roughly doubling sound intensity.</para>

<para>For sounds that are not phase-related, decibel levels add as a 
logarithmic sum.  Thus if X and Y are uncorrelated sound sources,</para>

<literallayout>
dBA(X + Y) = 10 * log(10 ^ (dBA(X)/10) + 10 ^ (dBA(Y)/10))
</literallayout>

<para>A consequence of the above formula is that dBA(X + Y) cannot be
more than 3dB above the greater of dBA(X) and dBA(Y) for uncorrelated
sources (6dB for perfectly correlated ones).</para>

<para>Sound from a point source decays by an inverse-square law,
roughly 6dB for each doubling of distance.</para>

<para>Important thresholds on the decibel scale:</para>

<variablelist>
<varlistentry>
<term>0   dBA</term>
<listitem><para>Threshold of hearing</para></listitem>
</varlistentry>
<varlistentry>
<term>20  dBA</term>
<listitem><para>Rustling leaves, quiet living room</para></listitem>
</varlistentry>
<varlistentry>
<term>30  dBA</term>
<listitem><para>Quiet office</para></listitem>
</varlistentry>
<varlistentry>
<term>40  dBA</term>
<listitem><para>Quiet conversation</para></listitem>
</varlistentry>
<varlistentry>
<term>45  dBA</term>
<listitem><para>Threshold of distraction, according to EPA</para></listitem>
</varlistentry>
<varlistentry>
<term>50  dBA</term>
<listitem><para>Quiet street, average office noise</para></listitem>
</varlistentry>
<varlistentry>
<term>60  dBA</term>
<listitem><para>Normal conversation (1 foot distance)</para></listitem>
</varlistentry>
<varlistentry>
<term>70  dBA</term>
<listitem><para>Inside car</para></listitem>
</varlistentry>
<varlistentry>
<term>75  dBA</term>
<listitem><para>Loud singing (3 feet)</para></listitem>
</varlistentry>
<varlistentry>
<term>80  dBA</term>
<listitem><para>Typical home-stereo listening level</para></listitem>
</varlistentry>
<!--
<varlistentry>
<term>85  dBA</term>
<listitem><para>Pushing a lawnmower over grass</para></listitem>
</varlistentry>
<varlistentry>
<term>88  dBA</term>
<listitem><para>Motorcycle (30 feet)</para></listitem>
</varlistentry>
<varlistentry>
<term>90  dBA</term>
<listitem><para>Food Blender (3 feet)</para></listitem>
</varlistentry>
<varlistentry>
<term>94  dBA</term>
<listitem><para>Subway (inside)</para></listitem>
</varlistentry>
<varlistentry>
<term>100 dBA</term>
<listitem><para>Diesel truck (30 feet)</para></listitem>
</varlistentry>
<varlistentry>
<term>107 dBA</term>
<listitem><para>Power mower (3 feet)</para></listitem>
</varlistentry>
<varlistentry>
<term>115 dBA</term>
<listitem><para>Pneumatic riveter (3 feet)</para></listitem>
</varlistentry>
<varlistentry>
<term>117 dBA</term>
<listitem><para>Chainsaw (3 feet)</para></listitem>
</varlistentry>
<varlistentry>
<term>120 dBA</term>
<listitem><para>Amplified Rock and Roll (6 feet)</para></listitem>
</varlistentry>
<varlistentry>
<term>130 dBA</term>
<listitem><para>Jet plane (100 feet)</para></listitem>
</varlistentry>
<varlistentry>
<term>140 dBA</term>
<listitem><para>Gunshot, firecracker</para></listitem>
</varlistentry>
-->
</variablelist>

<para>The acoustic noise emitted by PCs is normally a combination of white
noise produced by airflow, high-frequency noise produced by bearing
friction in drive spindles and fans, and the constant frequency "blade
passing" noise that all propellers emit (the latter is often more intense
than white noise and bearing whine).</para>

<para>The best low-noise ball-bearing case fans emit around 20dBA.
Typical sleeve-bearing fans emit 30-50dBA.</para>

<para>According to the indispensable <ulink
url="http://tomshardware.com/">Tom's Hardware site</ulink>, you can expect
to cut at least 5dB off the interior noise level of the computer with a
good choice of case.  We'll improve on that by adding sound-absorbing 
material to the interior.</para>
</sect1>

<sect1 id="laptops"><title>Special Considerations When Buying Laptops</title>

<para>Up until about 1999 the laptop market was completely crazy.  The
technology was in a state of violent flux, with <quote>standards</quote>
phasing in and out and prices dropping like rocks.  Things are beginning to
settle out a bit more now.</para>

<para>One sign of this change is that there are now a couple of laptop lines
that are clear best-of-breeds for reasons having as much to do with 
good industrial design and ergonomics as the technical details of the
processor and display.</para>

<para>In lightweight machines, I'm a big fan of the Sony VAIO line.
I owned one from early 1999 until it physically disintegrated under
the rigors of travel in late 2000, and could hardly imagine
switching.  They weigh 3.5 pounds, give you an honest 3 hours of life
per detachable battery pack, have a very nice 1024x768 display, and
are just plain <emphasis>pretty</emphasis>. Their only serious
drawback is that they're not rugged, and often fall apart after
a year or so of use.</para>

<para>If you want a full-power laptop that can compete with or replace your
desktop machine, the Lenovo (formerly IBM) ThinkPad line is the bomb.
Capable, rugged, and nicely designed.  I now use a ThinkPad X61, the
lightest and smallest machine in the line, and like it a lot.</para>

<para>These machines are not cheap, though.  If you're trying to save
money by buying a no-name laptop, here are things to look for:</para>

<para>First: despite what you may believe, the most important aspect
of any laptop is <emphasis>not</emphasis> the CPU, or the disk, or the
memory, or the screen, or the battery capacity.  It's the keyboard
feel, since unlike in a PC, you cannot throw the keyboard away and
replace it with another one unless you replace the whole computer.
<emphasis>Never buy any laptop that you have not typed on for a couple
hours</emphasis>.  Trying a keyboard for a few minutes is not enough.
Keyboards have very subtle properties that can still affect whether
they mess up your wrists.</para>

<para>A standard desktop keyboard has keycaps 19mm across with 7.55mm
between them.  If you plot frequency of typing errors against keycap size,
it turns out there's a sharp knee in the curve at 17.8 millimeters.  Beware
of <quote>kneetop</quote> and <quote>palmtop</quote> machines, which
squeeze the keycaps a lot tighter and typically don't have enough oomph for
Unix anyway; you're best off with the "notebook" class machines that have
full-sized keys.</para>

<para>Second: with present flatscreens, 1024x768 color is the best you're
going to do (though that may change soon).  If you want more than that
(for X, for example) you have to either fall back to a desktop or make
sure there's an external-monitor port on the laptop (and many laptops
won't support higher resolution than the flatscreen's).</para>

<para>Third: about those vendor-supplied time-between-recharge
figures; <emphasis>don't believe them</emphasis>.  They collect those
from a totally quiescent machine, sometimes with the screen or hard
disk turned off.  Under Windows, you'd be lucky to get half the endurance
they quote; under Unix, which hits the disk more often, it may be less
yet.  Figures from magazine reviews are more reliable.</para>
</sect1>

<sect1 id="howtobuy"><title>How to Buy</title>

<sect2 id="whentobuy"><title>When to Buy</title>

<para>It used to be that good configurations for Unix were what the market
called &lsquo;server&rsquo; machines, with beefed-up I/O subsystems and
fast buses.  No longer; today's &lsquo;servers&rsquo; are monster boxes
with multiple power supplies and processors, gigabytes of memory, and
industrial-grade air cooling &mdash;they're not really suitable as personal
machines. A typical SCSI desktop workstation is as much as you'll
need.</para>

<para>Prices keep dropping, so there's a temptation to wait forever to
buy.  A good way to cope with this is to configure your system on paper, get
a couple of initial estimates, then set a trigger price, below the
lowest one, at what you're willing to pay.  Then watch and wait.  When
the configuration cost hits your trigger price, place your order.</para>

<para>The advantage of this method is that it requires you to settle in your
mind, well in advance, what you're willing to pay for what you're
getting.  That way, you'll buy at the earliest time you should, and
won't stress too much out afterwards as it depreciates.</para>

<para>Before you shop, do your homework.  Publications like "Computer
Shopper" (and their web site at <ulink
url="http://www.computershopper.com">
http://www.computershopper.com</ulink>) are invaluable for helping you
get a feel for prices and what clonemakers are doing.  Another
excellent site is <ulink
url="http://www.computeresp.com">ComputerESP</ulink>.</para>

</sect2>
<sect2 id="wheretobuy"><title>Where to Buy</title>

<para>The most important where-to-buy advice is negative.  Do
<emphasis>not</emphasis> go to a traditional, business-oriented
storefront dealership.  Their overheads are high.  So are their
prices.</para>

<para>Especially, run &mdash;do not walk &mdash;away from any outfit that
trumpets &lsquo;business solutions&rsquo;.  This is marketing code for the
kind of place that will justify a heavy price premium by promising
after-sale service and training which, nine times out of ten, will turn out
to be nonexistent or incompetent.  Sure, they'll give you plush carpeting
and a firm handshake from a guy with too many teeth and an expensive watch
&mdash;but did you really want to pay for that?</para>

<para>There are two major alternatives to storefront dealerships and one
minor one.  The major ones are mail order and computer superstores.
The minor one is computer fairs.</para>

</sect2>
<sect2 id="fairs"><title>Computer Fairs</title>

<para>I used to be a big fan of hole-in-the-wall stores run by immigrants
from the other side of the International Date Line, but most of those
places have been driven out of the regular retail game by the superstores.
If you still have one in your neighborhood, you're lucky.  The only place
you normally find diaspora Chinese and Indians selling cheap PCs over the
counter anymore is at computer fairs.  (Usually they're doing it to
publicize an Internet/mail-order business.)</para>

<para>You can find good loss-leader deals on individual parts at these
fairs (they're especially good places to buy disk drives cheap). But I
call them a minor alternative because it's hard to get a custom
SCSI-based configuration tuned for Unix built for you at a fair.  So
you end up, effectively, back in the mail-order or Web channel.</para>

</sect2>
<sect2 id="mailorder"><title>Mail Order</title>

<para>Internet buying makes a lot of sense today for anyone with
more technical savvy than J. Random Luser in a suit.  Even from no-name
vendors, parts and system quality tend to be high and consistent,
so conventional dealerships don't really have much more to offer than a
warm fuzzy feeling.  Furthermore, competition has become so intense that
even Internet/mail-order vendors today have to offer not just lower prices
than ever before but warranty and support policies of a depth that would
have seemed incredible a few years back.  For example, many bundle a year
of on-site hardware support with their medium- and high-end
<quote>business</quote> configurations for a very low premium over the bare
hardware.</para>

<para>Note, however, that assembling a system yourself out of parts is
<emphasis>not</emphasis> likely to save you money over dealing with the
Internet/mail-order systems houses.  You can't buy parts at the volume they
do; the discounts they command are bigger than the premiums reflected in
their prices.  The lack of any system warranty or support can also be a
problem even if you're expert enough to do the integration yourself &mdash;
because you also assume all the risk of defective parts and integration
problems.</para>

<para>Watch out for dealers (Spectrum Trading for one) who charge ridiculous
shipping fees. One of our spies reports he bought a hotswappable hard
disc drive tray that weighed about 3 lbs. and cost $250 and they
charged $25 to ship it UPS groud.</para>

<para>Don't forget that (most places) you can avoid sales tax by buying from an
out-of-state outfit, and save yourself 6-8% depending on where you
live.  If you live near a state line, buying from a local outfit you can often
win, quite legally, by having the stuff shipped to a friend or relative just
over it.  Best of all is a buddy with a state-registered dealer number; these
aren't very hard to get and confer not just exemption from sales tax but
(often) whopping discounts from the vendors.  Hand him a dollar afterwards to
make it legal.</para>

<para>(Note: I have been advised that you shouldn't try the latter tactic in
Florida &mdash;they are notoriously tough on "resale license" holders).</para>

<para>(Note II: The Supreme Court has ruled that states may not tax
out-of-state businesses under existing law, but left the way open for
Congress to pass enabling legislation.  Let's hope the mail-order
industry has good lobbyists.)</para>

</sect2>
<sect2 id="superstores"><title>Computer Superstores</title>

<para>Big chain superstores like CompUSA and Circuit City give you a
reasonable alternative to the Web.  And there are good reasons to
explore it &mdash; these stores buy and sell at volumes that allow them to
offer prices not far above the Web.  (They make back a lot of
their margin on computer games and small accessories like mouse pads,
cables, and floppy disks.)</para>

<para>One thing you should not buy remotely if you can avoid it is a
monitor.  Monitors are subject to significant quality variations even
within the same make and model.  Flatscreens haver this [roblem less than
CRTs did, but you don't want a flatscreen with dead pixels.  So buy your
monitor face-to-face, picking the best out of three or four.</para>

<para>Another good argument for buying at a superstore is that you may
have to pay return postage if you ship a system back to the vendor.  On a
big, heavy system, this can eat your initial price savings.</para>

<para>The only major problem with superstores is that the salespeople who
staff them aren't very bright or very clueful (it's a sort of Darwinian
reverse-selection effect; these are the guys who are fascinated by computer
technology but not smart enough to be techies).  Most of them don't know
from Linux and are likely to push things like two-button mice that you
can't use.  Use caution and check your system manifest.</para>

<para>But if you shop carefully and don't fall for one of their name-brand
"prestige" systems, you can get prices comparable to Internet/mail-order
with the comfort of knowing there's a trouble desk you can drive back to in
a pinch.  (Also, you <emphasis>can</emphasis> see your monitor before you
buy!)</para>

</sect2>
<sect2 id="buying_tips"><title>Other Buying Tips</title>

<para>You can often get out of paying tax just by paying cash,
especially at computer shows.  You can always say you're going to ship
the equipment out of the state.</para>

<para>A lot of vendors bundle Windows and variable amounts of apps
with their hardware.  If you tell them to lose all this useless cruft
they may shave $50 or $100 off the system price.</para>
</sect2>
</sect1>

<sect1 id="questions"><title>Questions You Should Always Ask Your Vendor</title>

<sect2 id="warranty"><title>Minimum Warranty Provisions</title>

<para>The weakest guarantee you should settle for in the mail-order
market should include:</para>

<itemizedlist>
<listitem><para>72-hour burn-in to avoid that sudden infant death
syndrome.  (Also, try to find out if they do a power-cycling test and
how many repeats they do; this stresses the hardware much more than
steady burn-in.)</para></listitem>

<listitem><para>30 day money-back guarantee.  Watch out for fine print
that weakens this with a restocking fee or limits it with
exclusions.</para></listitem>

<listitem><para>1 year parts and labor guarantee (some vendors give 2
years).</para></listitem>

<listitem><para>1 year of 800 number tech support (many vendors give
lifetime support).</para></listitem>
</itemizedlist>

<para>Additionally, many vendors offer a year of on-site service free.  You
should find out who they contract the service to.  Also be sure the free
service coverage area includes your site; some unscrupulous vendors weasel
their way out with <quote>some locations pay extra</quote>, which
translates roughly to <quote>through the nose if you're further away than
our parking lot</quote>.</para>

<para>If you're buying store-front, find out what they'll guarantee beyond
the above.  If the answer is <quote>nothing</quote>, go somewhere
else.</para>

</sect2>
<sect2 id="documention"><title>Documentation</title>

<para>Ask your potential suppliers what kind and volume of documentation
they supply with your hardware.  You should get, at minimum,
operations manuals for the motherboard and each card or peripheral;
also an IRQ list.  Skimpiness in this area is a valuable clue that
they may be using no-name parts from Upper Baluchistan, which is not
necessarily a red flag in itself but should prompt you to ask more
questions.</para>

</sect2>
<sect2 id="quality"><title>A System Quality Checklist</title>

<para>There are various cost-cutting tactics a vendor can use which
bring down the system's overall quality.  Here are some good questions
to ask:</para>

<itemizedlist>
<listitem><para>If you're buying a factory-configured system, does it
have FCC certification?  While it's not necessarily the case that a
non-certified system is going to spew a lot of radio-frequency
interference, certification is legally required &mdash; and becoming
more important as clock frequencies climb.  Lack of that sticker may
indicate a fly-by-night vendor, or at least one in danger of being
raided and shut down! (For further discussion, see the section on <link
linkend="rfi">Radio Frequency Interference</link>
above.)</para></listitem>

<listitem><para>Are the internal cable connectors keyed, so they can't
be put in upside down?  This doesn't matter if you'll never, ever
<emphasis>ever</emphasis> need to upgrade or service your system.
Otherwise, it's pretty important; and, vendors who fluff this detail
may be quietly cutting other corners.</para></listitem>
</itemizedlist>

</sect2>
</sect1>

<sect1 id="mailtips"><title>Things to Check when Buying</title>

<sect2 id="tricks"><title>Tricks and Traps in Warranties</title>

<para>Reading warranties is an art in itself.  A few tips:</para>

<para>Beware the deadly modifier <quote>manufacturer's</quote> on a warranty;
this means you have to go back to the equipment's original
manufacturer in case of problems and can't get satisfaction from the
mail-order house.  Also, manufacturer's warranties run from the date
<emphasis>they</emphasis> ship; by the time the mail-order house
assembles and ships your system, it may have run out!</para>

<para>Watch for the equally deadly <quote>We do not guarantee
compatibility</quote>.  This gotcha on a component vendor's ad means you may
not be able to return, say, a video card that fails to work with your
motherboard.</para>

<para>Another dangerous phrase is <quote>We reserve the right to substitute
equivalent items</quote>.  This means that instead of getting the
high-quality name-brand parts advertised in the configuration you just
ordered, you may get those no-name parts from Upper Baluchistan
&mdash; theoretically equivalent according to the spec sheets, but
perhaps more likely to die the day after the warranty expires.
Substitution can be interpreted as <quote>bait and switch</quote>, so most
vendors are scared of getting called on this.  Very few will hold
their position if you press the matter.</para>

<para>Another red flag: <quote>Only warranted in supported
environments</quote>.  This may mean they won't honor a warranty on a
non-Windows system at all, or it may mean they'll insist on installing the Unix
on disk themselves.</para>

<para>One absolute show-stopper is the phrase <quote>All sales are
final</quote>.  This means you have <emphasis>no</emphasis> options if a
part doesn't work.  Avoid any company with this policy.</para>

</sect2>
<sect2 id="mail_questions"><title>Special Questions to Ask Web/Mail-Order
Vendors Before Buying</title>

<itemizedlist>
<listitem><para>Does the vendor have the part or system presently in
stock?  Mail order companies tend to run with very lean inventories;
if they don't have your item in stock, delivery may take longer.
Possibly <emphasis>much</emphasis> longer.</para></listitem>

<listitem><para>Does the vendor pay for shipping?  What's the delivery
wait?</para></listitem>

<listitem><para>If you need to return your system, is there a
restocking fee? and will the vendor cover the return freight?  Knowing
the restocking fee can be particularly important, as they make keep
you from getting real satisfaction on a bad major part.  Avoid dealing
with anyone who quotes more than a 15% restocking fee &mdash; and it's
a good idea, if possible, to avoid any dealer who charges a restocking
fee at all.</para></listitem>
</itemizedlist>

<para>Warranties are tricky.  There are companies whose warranties are
invalidated by opening the case.  Some of those companies sell
upgradeable systems, but only authorized service centers can do
upgrades without invalidating the warranty.  Sometimes a system is
purchased with the warranty already invalidated.  There are vendors
who buy minimal systems and upgrade them with cheap RAM and/or disk
drives.  If the vendor is not an authorized service center, the
manufacturer's warranty is invalidated.  The only recourse in case of
a problem is the vendor's warranty.  So beware!</para>

</sect2>
<sect2 id="payment"><title>Payment Method</title>

<para>It's a good idea to pay with AmEx or Visa or MasterCard; that way you
can stop payment if you get a lemon, and may benefit from a
buyer-protection plan using the credit card company's clout (not all cards
offer buyer-protection plans, and some that do have restrictions which may
be applicable).  However, watch for phrases like <quote>Credit card
surcharges apply</quote> or <quote>All prices reflect 3% cash
discount</quote> which mean you're going to get socked extra if you pay by
card.</para>

<para>Note that many credit-card companies have clauses in their
standard contracts forbidding such surcharges.  You can (and should)
report such practices to your credit-card issuer.  If you already paid
the surcharge, they will usually see to it that it is returned to you.
Credit-card companies will often stop dealing with businesses that
repeat such behavior.</para>

</sect2>
<sect2 id="vendors"><title>Which Clone Vendors to Talk To</title>

<sect3 id="pans"><title>Some pans</title>

<para><emphasis>Gateway</emphasis>: may also be a vendor to avoid.
Apparently their newer machines don't have parity bits in their
memories; memory is tested only on reboot.  This is dubious design
even for Windows, and totally unacceptable for Unix.</para>

</sect3>
<sect3><title>Some picks</title>

<para>In early August 2001 I designed an `Ultimate Linux Box' with Gary
Sandine and John Pearson of <ulink url="http://lanm-pc.com">Los Alamos
Computers</ulink>; you can <ulink
url="&home;writings/ultimate-linux-box/">read all about it</ulink> These
guys know what they are doing and are fun to work with.  If you need a
high-end Linux workstation, or your laboratory needs a computer cluster,
talk with them.</para>

</sect3>
</sect2>
</sect1>
<sect1><title> After You Take Delivery</title>

<para>Your configuration is custom and involves slightly unusual
hardware.  Therefore, keep a copy of the configuration you wrote down,
and check it against the invoice and the actual delivered hardware.
If there is a problem, calling back your vendor right away will
maximize your chances of getting the matter settled quickly.</para>

</sect1>
<sect1 id="software"><title>Software to go with your hardware</title>

<para>I used to maintain an entire separate FAQ on Unixes for 386/486 and
Pentium hardware.  Times change, industries evolve, and I can now
replace that FAQ with just three words:</para>

<para><emphasis role="strong">Go get Linux!</emphasis></para>

</sect1>

<sect1 id="links"><title>Other Resources on Building Linux PCs</title>

<para>The <ulink url="http://www.pctechguide.com/">PC Tech Guide</ulink>
offers pretty comprehensive descriptions of PC hardware technologies.</para>

<para>The <ulink url="http://hawks.ha.md.us/hardware/">Caveat
Emptor</ulink> guide has an especially good section on evaluating
monitor specifications. </para>

<para>Anthony Olszewski's <ulink
url="http://www.computercraft.com/docs/pcbuild.html"> Assembling A
PC</ulink> is an excellent guide to the perplexed.  Not
Linux-specific.</para>

<para><ulink url="http://www.sysdoc.pair.com/">Tom's Hardware
Guide</ulink> covers many hardware issues exhaustively. It is
especially good about CPU chips and motherboards.  Full of ads and
slow-loading graphics, though.</para>

<para>The <ulink url="http://www.sysopt.com">System Optimization
Site</ulink> has many links to other worthwhile sites for hardware
buyers.</para>

<para>Christopher B. Browne has a page on <ulink
url="http://linuxfinances.info/info/linuxvars.html#VARS">Linux VARs</ulink>
that build systems. He also recommends the <ulink
url="http://en.tldp.org/HOWTO/VAR-HOWTO.html">Linux
VAR HOWTO</ulink>.</para>

<para>Jeff Moe has a <ulink url="http://www.verinet.com/pc/">Build
Your Own PC</ulink> page.  It's more oriented towards building from
parts than this one.  Less technical depth in most areas, but better
coverage of some including RAM, soundcards and motherboard
installation.  Features nifty and helpful graphics, one of the better
graphics-intensive pages I've seen.  However, the hardware-selection
advice is out of date.</para>

<para>The <ulink url="http://en.tldp.org/HOWTO/Hardware-HOWTO">Linux Hardware
Database</ulink> .</para>

<para>The <ulink url='http://www.silentpcreview.com/'>Silent PC
Reviews</ulink> site has lots of good material on building quiet PCs.</para>
</sect1>
</article>

<!--
The following sets edit modes for GNU EMACS
Local Variables:
fill-column:75
compile-command: "mail -s \"Unix Hardware Buyer HOWTO update\" submit@en.tldp.org <Unix-Hardware-Buyer-HOWTO.xml"
End:
-->

_____________________________________________________
please cc: to the list when you reply to this message

