<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE book PUBLIC "-//OASIS//DTD DocBook XML V4.2//EN"
"http://www.oasis-open.org/docbook/xml/4.2/docbookx.dtd">

<book>
  <bookinfo>
    <title>
Windows+BSD+Linux Installation Guide</title>
    <authorgroup>
      <author>
	<firstname>Subhasish</firstname>
	<surname>Ghosh</surname>
	<affiliation>
	  <address><email>subhasish_ghosh([A][T])linuxwaves[DOT]com</email></address>
	</affiliation>
      </author>
    </authorgroup>
    <revhistory>
      <revision>
	<revnumber>1.2</revnumber>
	<date>2004-01-5</date>
	<revremark>Chapter "Troubleshooting" updated. Information on Linux updated to cover Red Hat Linux 8.0 (Psyche Edition) and FreeBSD to FreeBSD 5.1-RELEASE.</revremark>
      </revision>
      <revision>
	<revnumber>1.1</revnumber>
	<date>2004</date>
	<revremark>Corrections made and information added. Information on FreeBSD -RELEASE updated to cover 4.8-RELEASE. Chapter "Installing NetBSD 1.6.1" added and a few minor modifications made to the guide.</revremark>
      </revision>

      <revision>
	<revnumber>1.0</revnumber>
	<date>2004</date>
	<revremark>Initial release, reviewed by Linux Documentation Project (LDP). A few structural changes and minor corrections made; Chapters "Troubleshooting" and "Installing OpenBSD 3.2-RELEASE" added.</revremark>
      </revision>
    </revhistory>
    <abstract>
      <para>
Welcome! This document explains how three different operating systems can be installed and configured on the same hard disk of a computer. The reader may choose from: Microsoft Windows 95/98(Second Edition)/Millennium Edition(ME)/NT/2K/XP + FreeBSD 5.1-RELEASE/OpenBSD 3.2-RELEASE/NetBSD 1.6.1 + Linux. Only Intel architecture multi-booting is discussed and GNU GRUB is the boot loader of choice. If you have any questions or comments, feel free to contact me by e-mail at this address: subhasish_ghosh@linuxwaves.com. Thank you!</para>
    </abstract>
  </bookinfo>
  <preface>
    <title>Notice</title>
<important>
      <para>In the Organization section, readers must choose to execute Chapter 3 or Chapter 4 or Chapter 5.</para>
    </important>
  </preface>
  <chapter>
    <title>Introduction</title>
    <section>
      <title>Purpose of this Guide</title>
      <para>
Though many of us prefer using only one operating system on our personal computers for our daily tasks, there may be times when we would like to install two or more operating systems on the same computer. Let us suppose, you are required to use MATLAB 6.0 for your engineering applications; design, program and implement a web site using PHP and the back-end database using MySQL (as a part of an enterprise-application development project) and also learn how to configure a packet-filtering Firewall using IPFW. As it so happens, the MATLAB software runs on Microsoft Windows platform, the MySQL database you want to implement on the Linux operating system and last but not the least, your professor at the university is teaching "how to configure a packet-filtering Firewall using IPFW" using the FreeBSD operating system software. In such situations, you can safely fall back on the "multiple-booting" mechanism and of course refer to this guide from time to time.</para>
      <para>
This document represented in the form of a Guide, is intended to help those Windows, Linux and FreeBSD/OpenBSD/NetBSD users who believe in the method of "learning by doing". Multiple-booting systems is not an exact science. You come across a document, you read it, find it interesting, do it yourself, make mistakes and then finally you achieve the desired aim. That is how you are supposed to learn. That is how I learnt. That is how the Unix experts learnt a long time back. By the time a reader finishes reading this guide, he would have a clear understanding of the basic topics required for successfully installing and configuring three different operating systems on the same hard disk of a computer. I have tried my level best to describe each and every topic in a clear and easily understandable simple language.</para>
      <para>
Most installation HOWTOs and guides (for Linux, FreeBSD and OpenBSD operating systems) which are available on the Internet are incomplete because they assume too much leaving the reader to do most of the difficult stuff themselves. In this guide, I illustrate every step thereby making the entire process a simple walk through.</para>
    </section>
    <section>
      <title>
What is Multiple-booting?</title>
      <para>
The Webster's New World Computer Dictionary (9th edition) by Bryan Pfaffenberger, defines the term "dual-booting" as: 'A computer that enables the user to choose between two operating systems at boot time'. Rightly so. Considering this definition as our boilerplate, we may frame our own definition of a "multiple-booting" or (in short) a multi-boot system i.e., a computer that enables the user to choose between more than 2 operating systems at boot time.</para>
      <para>
This document explains how three varying operating systems can be successfully installed and configured on the same hard disk of a computer thus enabling it to become a "multi-boot" system. The operating systems chosen for this illustration include: either Microsoft Windows 95/98 (Second Edition)/Millennium Edition (ME)/NT/2K/XP, FreeBSD 5.1-RELEASE/OpenBSD 3.2-RELEASE/NetBSD 1.6.1 and Red Hat Linux 8.0. I would install a Microsoft Windows operating system first, then either FreeBSD 5.1-RELEASE or OpenBSD 3.2-RELEASE or NetBSD 1.6.1 and finally round-off by installing Red Hat Linux 8.0 (Psyche). GNU GRUB is the boot loader used for booting these three operating systems.</para>
    </section>
    <section>
      <title>
Multi-booting Pros and Cons</title>
      <para>
An idea or thought as: "Hey! Dual and multi-booting computer systems only has advantages and absolutely no disadvantages" is wrong. Often an important question which readers do ask is: Where does it make sense to multi-boot a PC? The answer to this question is simple: Multi-booting systems only makes sense where you would like to experiment with a number of configurations (or operating systems in general) than you have computers for and more significantly where no data is at risk.</para>
      <para>
Let us consider a situation like this: Peter has a single PC at home which runs Slackware Linux. All his significant documents and downloaded files from the Internet are stored on it. He now decides to learn and practice hacking the FreeBSD Kernel. Thus, he decides to make his PC a dual-boot system. Converting one's only or in other words, the primary PC at home or at work into a dual or multi-booting system is a bad choice. If a primary home PC must be used as a dual or multi-booting system, it will be much safer to add a second hard disk and leave the first relatively untouched. A powerful boot loader like GRUB will allow booting from the other hard disk.</para>
      <para>
The Computer Science Department at my university has 15 laboratories for varying purposes that runs hardware ranging from i386s to Sun SPARCs. Where data and security is of absolute concern, computers run only one operating system whether Windows 2000 Professional, Red Hat Linux, Slackware, FreeBSD or Sun Solaris. However, we do have "test labs" of about 10-12 PCs each, where we have dual and multi-booting systems running ASP Linux, Red Hat Linux, Slackware, Windows 2000 Professional, FreeBSD and others. This can be considered as an ideal situation.</para>
    </section>
    <section>
      <title>List of Assumptions</title>
      <para>
Though each and every step required has been explained from the very ground-up, yet a few significant assumptions have been taken into consideration while writing this guide, a few of which are as follows:<itemizedlist>
	  <listitem>
	    <para>The reader possesses some theoretical and practical experience of partitioning hard disks utilizing Microsoft fdisk, BSD style partition table editor, Linux fdisk and so on.</para>
	  </listitem>
	  <listitem>
	    <para>
Understands hard disk geometries, concept of a primary partition, an extended partition, logical disks within an extended partition; Linux disk naming and partitioning schemes, BSD style disk labeling and partitioning schemes.</para>
	  </listitem>
	  <listitem>
	    <para>
Possesses theoretical and practical experience of compiling and configuring custom Linux and BSD Kernels.</para>
	  </listitem>
	  <listitem>
	    <para>Knowledge of basic Unix commands common to both Linux and FreeBSD/OpenBSD/NetBSD operating systems. For example, mounting filesystems, editing configuration files like the /boot/grub/grub.conf on Linux and other such trivial tasks.</para>
	  </listitem>
	  <listitem>
	    <para>The reader is using an Intel x86 computer system. I would be installing Windows, FreeBSD/OpenBSD/NetBSD and Linux operating systems on IA32 platform.</para>
	  </listitem>
	  <listitem>
	    <para>The reader is using a hard disk whose BIOS supports the Logical Block Addressing (LBA) mode of representing data on the disk. By using LBA mode, the 1024 Cylinder Limit on old hard disks is dealt with.</para>
	  </listitem>
	</itemizedlist></para>
      <para>
Do not worry if you do not know some of these yet, simply read on because the most important steps would be explained in detail in the forthcoming sections as when required. Anyway, before proceeding any further, make sure you browse through the Frequently Asked Questions (FAQ) section of the guide.</para>
    </section>
    <section>
      <title>Acknowledgements</title>
      <para>
I would like to thank all the following people and projects without the help and active participation of which, this document would never have been possible. Some of them include:<itemizedlist>
	  <listitem>
	    <para>Guylhem Aznar (guylhem at metalab dot unc dot edu), Chief coordinator, main contact of \x{201C}TLDP\x{201D} for making this guide possible.</para>
	  </listitem>
	  <listitem>
	    <para>Tabatha Persad (tabatha at merlinmonroe dot com), Linux Documentation Project Review Coordinator, for technical reviews and for answering my million queries.</para>
	  </listitem>
	  <listitem>
	    <para>Michael K. Johnson (johnsonm at redhat dot com), for the excerpt from his "Linux Information Sheet" at the TLDP site, mentioned in Chapter 1 of this guide on Linux.</para>
	  </listitem>
	  <listitem>
	    <para>Microsoft Corporation for using important information on Microsoft tools and technologies mentioned in Chapter 2 of the guide.</para>
	  </listitem>
	  <listitem>
	    <para>To each and every Open-Source community contributor and to all my friends all around the world.</para>
	  </listitem>
	</itemizedlist></para>
      <para>Additionally, while writing this guide, I consulted the following printed books, online journals, magazines and official papers:</para>
      <para>
1. Modern Operating Systems, by Andrew S. Tanenbaum</para>
      <para>
2. Understanding the Linux Kernel, by Daniel P. Bovet, Marco Cesati</para>
      <para>
3. Red Hat Linux 8 Bible, by Christopher Negus</para>
      <para>
4. Red Hat Linux Official x86 Installation Guides at http://www.redhat.com</para>
      <para>
5. Linux Gazette and Linux Focus online magazines at http://www.linuxgazette.com and http://www.linuxfocus.org respectively.</para>
      <para>
6. The FreeBSD Handbook at http://www.freebsd.org</para>
      <para>
7. The FreeBSD FAQ at http://www.freebsd.org</para>
      <para>
8. The OpenBSD FAQ at http://www.openbsd.org</para>
      <para>
9. The Official Microsoft Windows Installation Guides and FAQs at http://www.microsoft.com</para>
    </section>
    <section>
      <title>Legalese</title>
      <para>
    Trademarks are owned by their owners.</para>
      <para>
Although the information given in this document is believed to be correct, the author will accept no liability for the content of this document. Use the tips and examples given herein at your own risk.</para>
      <para>
Copyright (c) 2003, Subhasish Ghosh</para>
      <para>
Permission is granted to copy, distribute and/or modify this document under the terms of the GNU Free Documentation License, Version 1.2 or any later version published by the Free Software Foundation; with no Invariant Sections, no Front-Cover Texts, and no Back-Cover Texts. A copy of the license is located at www.gnu.org/copyleft/fdl.html, in the section entitled "GNU Free Documentation License".</para>
    </section>
    <section>
      <title>About the Author</title>
      <para>
Subhasish "savvy" Ghosh has been working with GNU/Linux and FreeBSD (and more recently OpenBSD, NetBSD, Sun Solaris and other UNIX-variant) operating systems for the past 7 years or so since schooldays. Currently, aged 22, Ghosh is an engineering student at the Moscow Power Engineering Institute (Technical University) at Moscow, Russian Federation; specializing in the field of "Informatics and Computer Science engineering". He is a Microsoft Certified Professional (MCP), MCSD, MCP Certified on NT 4.0; additionally has a host of other GNU/Linux and computer-industry related certifications. His web page can be accessed at http://groups.msn.com/Linuxdump.</para>
    </section>
  </chapter>
  <chapter>
    <title>Frequently Asked Questions (FAQ)</title>
    <para>
Readers have questions. Thus, this FAQ section has been included for answering some of the most obvious questions from the reader's point of view. All readers are requested to read through this section for finding answers to their personal questions.</para>
    <para>
After reading through this FAQ entirely, if the reader feels that
he/she still has a "question" or two to ask, please feel free to drop
a line at subhasish_ghosh@linuxwaves.com.</para>

    <qandaset>
      <qandaentry>
	<question>
	  <para>What is the aim/purpose of this Guide?</para>
	</question>
	<answer>
	  <para>This guide can be used by anyone for installing and configuring 3 operating systems (OSes) on the same hard disk of a computer. First, a Microsoft Windows operating system (according to the choice of the reader) is installed, then FreeBSD 5.1-RELEASE or OpenBSD 3.2-RELEASE or NetBSD 1.6.1 is installed and finally, we round-off the guide by installing Red Hat Linux 8.0. Though I always use this particular order, the reader can install in an order comfortable to him/her.</para>
	</answer>
      </qandaentry>
      <qandaentry>
	<question>
	  <para>Why have you used "3" operating systems for this guide?</para>
	</question>
	<answer>
	  <para>The current scenario is such that Microsoft Windows operating systems rule the desktops, with GNU/Linux distributions and *BSD releases (FreeBSD/OpenBSD/NetBSD) competing for "total world domination" in the server markets, thus, I thought it would be the absolute best to include all of them in this guide. The first OS is a Microsoft Windows OS, the second one belonging to the *BSD family and the last one a commonly used GNU/Linux distribution (Red Hat). Thus, the number of OSes ended up with "3".</para>
	</answer>
      </qandaentry>
      <qandaentry>

	<question><para>Did you yourself try out the steps mentioned in this guide? What are the configurations of the computer system on which you tested all the material mentioned in this guide?</para>
	</question>
	<answer>
	  <para>
          I assure everyone that I tested each and every step mentioned in this guide on my personal computer systems. Later they were tested successfully on other computers with varying configurations as well. My computer has a 266.87 MHz Intel Pentium 2 processor, 64MB Physical DIMM RAM, a single 20.0 GB Maxtor IDE HDD and other usual accessories which runs Microsoft Windows 98 (SE), FreeBSD 5.1-RELEASE and Red Hat Linux 8.0. The other one with pretty much the same configuration runs FreeBSD 4.8-RELEASE, OpenBSD 3.2-RELEASE and Red Hat Linux 8.0. The general rule of the thumb is: "Better the resources, better the performance of the computer".</para>
	</answer>
      </qandaentry>
      <qandaentry>
	<question>
	  <para>All your installations are "CD-ROM" based installation types. What about "Ethernet", "FTP", "HTTP", "NFS" installation types?</para>
	</question>
	<answer>
	  <para>I decided to keep the guide as simple as possible. And since most of us usually use CDs from local CD-ROMs for installing operating systems, I have assumed that the reader undertakes a CD-ROM based installation for installing the covered operating systems. Moreover, this guide is intended for all types of users, ranging from intermediate Linux users to the experienced Unix experts. Since, NFS, HTTP, FTP and other such installation types usually require networks with servers running, which is impossible for an ordinary home-user to access, I have only covered the CD-ROM based installation types. Sorry for the inconvenience caused to the "network" lovers.</para>
	</answer>
      </qandaentry>
      <qandaentry>
	<question>
	  <para>
Why would anyone ever need to run 3 operating systems on the same hard disk of a computer? I want to run 3 operating systems on 2 separate hard disks. What is the big deal with this guide anyway?</para>
	</question>
	<answer>
	  <para>
          For lots of reasons. Fun, for learning new installing and booting methodologies, for gaining inside knowledge of "multi-booting", partitioning schemes, boot loaders and so on, or simply because you just cannot afford 2 separate 40.0 GB hard disk drives for the 3 different operating systems you want to tinker with. As for me, I guess the last reason "suits" the best.</para>
	  <para>
          Lastly, if you do want, you can always install and configure your computer system with 3 varying operating systems installed in 2 separate hard disks.</para>
	</answer>
      </qandaentry>
      <qandaentry>
	<question>
	  <para>
Why Red Hat? Why NOT Debian GNU/Linux, Slackware, Caldera, SuSE, TurboLinux and others?</para>
	</question>
	<answer>
	  <para>
          Since most of my past Linux projects and work in general had been related to the Red Hat Linux distribution; continually installing, configuring and administering Red Hat Linux personal desktops and workstations. Currently, Red Hat Linux is "the" leading Linux solutions provider in the world, with big corporate real-time systems being implemented using the Red Hat operating system software. Moreover, Red Hat documentation and support are easy to find. Thus, Red Hat Linux has been chosen. The other distributions, namely Debian GNU/Linux, Slackware and Mandrake are good, and I will probably add more sections covering other Linux distributions later.</para>
	</answer>
      </qandaentry>
      <qandaentry>
	<question>
	  <para>
Why FreeBSD, OpenBSD and NetBSD operating systems? Why not BSD/OS, Darwin, Irix, Sun Solaris, Digital UNIX, HP-UX, IBM-AIX and others?</para>
	</question>
	<answer>
	  <para>
          I personally have networking and source-code hacking experience on FreeBSD and OpenBSD boxes. And, more recently have access to NetBSD 1.6.1 and Sun Microsystems' SunOS operating system in the Solaris Operating Environment. I do "not" have any experience working with Irix, Ultrix, Minix, HP-UX, IBM-AIX, Darwin and others. Thus, FreeBSD, OpenBSD and NetBSD have been chosen.</para>
	</answer>
      </qandaentry>
      <qandaentry>
	<question>
	  <para>
Which Kernel version have you used for GNU/Linux?</para>
	</question>
	<answer>
	  <para>
Linux Kernel 2.4.18-14 has been used for the Red Hat Linux distribution (Psyche).</para>
	</answer>
      </qandaentry>
      <qandaentry>
	<question>
	  <para>
I installed 3 operating systems in my computer as you have illustrated in this guide. And then unfortunately, something went wrong somewhere. My computer crashed and I lost all the data. Would you be kind enough to take the responsibility for all this mess?</para>
	</question>
	<answer>
	  <para>
          Well, first my "deepest" condolences on your data-loss and for all this apparent mess. I would love to take all the responsibility, but as it is, I have enough problems of my own to handle. Thus, I am "not" ready to take the responsibility for anything that goes wrong anywhere. At the least, I can say, that all the steps and methods mentioned in this guide have been tested thoroughly on a number of systems with varying configurations, and no problems have been noted so far.</para>
	</answer>
      </qandaentry>
      <qandaentry>
	<question>
	  <para>
You used the GNU GRUB for booting all the 3 operating systems. May I know the reason why? Why not use the popular Linux Loader (LILO) or FreeBSD or NT boot loader for this purpose?</para>
	</question>
	<answer>
	  <para>
As known to everyone, boot loaders play a very vital role while configuring multiple-booting systems where you can use any suitable boot loader which is capable of booting multiple operating systems. I chose GRUB in this guide for three specific reasons: 1) GNU GRUB is the "default" boot loader in Red Hat distribution releases currently. 2) As mentioned in the 'Release Notes' of Red Hat Linux 8.0, the use of LILO is deprecated and the package would be removed from one of its future releases. 3) GRUB is a very powerful (x86) PC-compatible boot loader which supports a number of operating systems "directly" and other proprietary ones too via "chain-loading" for booting them. Thus, GRUB is used instead of other boot loaders.</para>
	</answer>
      </qandaentry>
      <qandaentry>
	<question>
	  <para>
I have older Red Hat, FreeBSD and OpenBSD distributions and/or releases. Will they work?</para>
	</question>
	<answer>
	  <para>
          I am sure they would with a few modifications at places. All steps mentioned should behave in a normal manner if you are using Kernel 2.2.x or higher (for Linux). For FreeBSD users, if you are using not earlier than 4.X-RELEASES, there should not be any problems whatsoever. Just take a deep breath, and start doing as given in this guide. If in case, at some place it does "not" work, make sure you are using the right step and commands etc. Most times, it is human error rather than computer-related error which lets big servers and networks down. Always remember this!</para>
	</answer>
      </qandaentry>
      <qandaentry>
	<question>
	  <para>
I would like to have access to good resources on Linux and FreeBSD. Could you suggest a few?</para>
	</question>
	<answer>
	  <para>
          Yes, definitely I could. There is a lot of very good technical information on all the "open-source" operating systems out there on the Internet. For Linux, make sure you often visit http://www.linuxgazette.com, http://www.linuxfocus.org, http://www.linux.com and a host of others. Besides, "The Linux Documentation Project" (TLDP) provides excellent resources on all topics related to GNU/Linux. As for printed books, these are some of my absolute favorites: Red Hat Linux 8.0 Bible, Understanding the Linux Kernel, Modern Operating Systems, Linux Kernel Programming, The FreeBSD Handbook at http://www.freebsd.org, The Design of the UNIX Operating System, The Design and Implementation of the 4.4BSD Operating System. That would be enough for the time-being!</para>
	</answer>
      </qandaentry>
      <qandaentry>
	<question>
	  <para>
I have a few suggestions, new ideas and exciting comments. Can I send them to you?</para>
	</question>
	<answer>
	  <para>
          Without asking, please do. Only by hearing from others, I can make this guide a better one in the near future. So, drop a line if you want to.</para>
	</answer>
      </qandaentry>
      <qandaentry>
	<question>
	  <para>
I have "installation-specific" questions/queries or something "failed" or "this quite didn't work"? Can I send these reports to you?</para>
	</question>
	<answer>
	  <para>
          Of course do. But please be patient, cause I am busy with lots of things at my university; tests, exams, assignments, dating my "infinitely patient FreeBSD-compatible rock-stable girlfriend", maintaining this guide, other Linux assignments etc. So, I cannot promise to get back to you immediately. I need some time solving your problems.</para>
	</answer>
      </qandaentry>
      <qandaentry>
	<question>
	  <para>
Will you be updating this guide from time to time? Will "my" problems be listed here?</para>
	</question>
	<answer>
	  <para>
          Yes, I would definitely update this guide from time to time with changes, updates, fixes, additions and so on.</para>
	</answer>
      </qandaentry>
      <qandaentry>
	<question>
	  <para>
Does this guide have any newest version on the Internet?</para>
	</question>
	<answer>
	  <para>
          As of now, no, it does not. This is the only place where it will be updated from time to time.</para>
	</answer>
      </qandaentry>
      <qandaentry>
	<question>
	  <para>
(For people living in and around Moscow, Russia) I have a computer system and I would love to install 3 operating systems on them. Would you be kind enough to come to my place and do the installation and configuration?</para>
	</question>
	<answer>
	  <para>
          If you do live in Moscow, or on the outskirts of Moscow; drop me a line. I would come down to your place and do everything that is required for free. Cannot help others living far.</para>
	</answer>
      </qandaentry>
      <qandaentry>
	<question>
	  <para>
(For people of Russia) We love Microsoft Windows, FreeBSD and OpenBSD operating systems. But "why" have you NOT used the common Russian GNU/Linux distributions? I mean "ASP Linux", "Black Cat Linux", "ALT Linux" and others?</para>
	</question>
	<answer>
	  <para>
          All the above-mentioned GNU/Linux distributions are basically Red Hat-based Linux distributions. They heavily rely on Red Hat for package installation procedures, Kernel hacking, Kernel updates etc. I have used ASP Linux 7.2 myself, and though it does offer a few new and exciting features, but I personally prefer working with Red Hat Linux. I have "no" experience using Black Cat and ALT GNU/Linux distributions.</para>
	</answer>
      </qandaentry>
    </qandaset>
  </chapter>



