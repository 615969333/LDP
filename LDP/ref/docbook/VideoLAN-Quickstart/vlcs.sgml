<chapter id="vlcs"><title id="tvlcs">Add a channel information service</title>

<para>Typing multicast addresses and URLs is not very fun... and that's
where a small program, the mini VideoLAN Channel Server (mini-VLCS),
is very useful. The mini VideoLAN Channel Server associate URLs or
multicast addresses to channels, like on a TV.</para>

<sect1><title>Installing mini-VLCS</title>

<note><para>Mini-VLCS is only available for Linux.</para></note>

<para>You don't have to change anything to vls or the Web server.
Mini-VLCS is independant from them, but is can be installed on the same
machine as vls or the Web server.</para>

<para>Download the latest version of mini-VLCS from the <ulink
url="http://www.videolan.org/network/download.html">network download
page</ulink>.</para>

<para>Install-it:</para>

<screen>
<prompt>% </prompt><userinput>tar xvzf miniVLCS-version.tar.gz</userinput>
<prompt>% </prompt><userinput>cd miniVLCS-version</userinput>
<prompt>% </prompt><userinput>make</userinput>
</screen>

<para>It creates an executable program named <command>vlcs</command>.</para>

</sect1>

<sect1><title>Configuring mini-VLCS</title>

<para>Edit the configuration file <filename>vlcs.conf</filename>. The
syntax rules of this configuration file are the following :</para>

<itemizedlist>

<listitem><para>the first line corresponds to channel 0, the second
line corresponds to channel 1, the third line to channel 2, and so
on...,</para></listitem>

<listitem><para>lines are considered raw data
and sent directly to the client (for example,
<emphasis>udp:@239.255.12.42</emphasis>),<para></listitem>

<listitem><para>lines beginning by <emphasis>I:</emphasis> are "dummy"
channel programs that tell VLC there is nothing in this channel (which
should be the case of channel 0).</para></listitem>

</itemizedlist>

<para>For exemple, if you want channels 1 and 2 to be two multicasted
streams and channels 3 and 4 to be two on-demand streams, your
<filename>vlcs.conf</filename> file will look like this :</para>

<programlisting>
I:nostream
udp:@239.255.12.42
udp:@239.255.12.43
http://vod.videolan.org/test/video1.mpg
http://vod.videolan.org/test/video2.mpg
</programlisting>

</sect1>

<sect1><title>Running mini-VLCS</title>

<para>Start mini-VLCS :</para>

<screen>
<prompt>% </prompt><userinput>./vlcs</userinput>
</screen>

<para>For production, you should run the program in a screen, so that
you can detach-it and reattach-it:</para>

<screen>
<prompt>% </prompt><userinput>screen ./vlcs</userinput>
</screen>

</sect1>

<sect1><title>Configure VLC(s) to use mini-VLCS</title>

<para>Launch VLC, click on the <emphasis>net</emphasis> button or
select in the menu <emphasis>File / Network stream</emphasis>, select
<emphasis>Channel Server</emphasis>, enter the DNS name or the IP
address of the machine hosting mini-VLCS and click on
<emphasis>OK</emphasis>.</para>

<para>Then, you see a new section <emphasis>Network Channel</emphasis>
on the interface. Select the channel of your choice and click on
<emphasis>Go!</emphasis>.</para>

</sect1>
