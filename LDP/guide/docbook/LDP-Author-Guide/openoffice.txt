Date: Sun, 20 Jul 2003 15:46:12 -0600
From: Charles Curley <charlescurley@charlescurley.com>
To: discuss@en.tldp.org
Subject: OpenOffice.org 1.1RC & DocBook

I just hauled in and installed on a test computer OpenOffice.org 1.1RC
(hereafter OOo). The Linux is Red Hat 8.0 with security updates. My
main interest is in the DocBook export filter, which has seen some
discussion on the LDP lists.

I wrote a very simple test document in OOo's native format. It had
some headers and a few paragraphs of text in it. OOo exported what
nsgmls considers a valid document.

nsgmls -wxml -s /usr/share/sgml/xml.dcl Test.xml
nsgmls:/usr/share/sgml/xml.dcl:1:W: SGML declaration was not implied

SGML validation finished at Sun Jul 20 15:10:41

A few notes:

* To be able to export to DocBook, you must have a Java runtime
  environment (JRE) installed and registered with OOo. If you don't
  already have one installed or have one registered with OOo, you can
  do that after you have installed OOo. To register a JRE with an
  installed instance of OOo, shut down OOo and use the program
  /opt/OpenOffice.org1.1/program/jvmsetup to register it.

  Contrary to the OOo documentation, the Linux OOo did not come with a
  JRE. I got one from Sun.

* The exported file has lots of empty lines. My 54 line exported file
  had 5 lines of actual XML code.

* There was no effort at pretty printing.

* The header is:
    <?xml version=3D"1.0" encoding=3D"UTF-8"?>
    <!DOCTYPE article PUBLIC "-//OASIS//DTD DocBook XML V4.1.2//EN" "http:/=
/www.oasis-open.org/docbook/xml/4.1.2/docbookx.dtd">

* The pull-down menu in the "Save As" dialog box for file format
  indicates that the export format is "DocBook (simplified)." There is
  no explanation of what that "simplified" indicates. Does OOo export
  a subset of DocBook? If so, which elements are ignored? Is there any
  way to enter any of them manually?

* There is NO documentation on the DocBook export filter or whether
  OOo will import it again. Tch, tch.

Conclusions: OOo 1.1RC is worth looking at if you want a word
processor for preparing DocBook documents.

However, I hope they cure the lack of documentation. For one thing, it
would be nice to know which native OOo styles map to which DocBook
elements. It would also be nice to know how to map one's own OOo
styles to DocBook elements.

--=20

Charles Curley                  /"\    ASCII Ribbon Campaign
Looking for fine software       \ /    Respect for open standards
and/or writing?                  X     No HTML/RTF in email
http://www.charlescurley.com    / \    No M$ Word docs in email

Additional notes:

Date: Mon, 21 Jul 2003 09:07:14 +0200
From: jdd <jdanield@dodin.net>
Subject: Re: OpenOffice.org 1.1RC & DocBook
To: tabatha@merlinmonroe.com
Cc: docbook@en.tldp.org
wrong. jre is not installed by default on most Linux distro (of course
depends of what you chooses at install) - mostly ooorc needs a very
recent jre (at least 4.2.x, better use the very last)

>>> do that after you have installed OOo. To register a JRE with an
>>> installed instance of OOo, shut down OOo and use the program
>>> /opt/OpenOffice.org1.1/program/jvmsetup to register it.

nope (not usefull). try exporting in docbook and ooo asks if you want to
register a java jre. gives the root directory (/opt/j2re1.4.2 for me) of 
your and thats all (needs restarting ooo).

notice that jre is given by sun in a .bin file which is not an
installable one nor a source, but rather only an archive. lauching the
files extracts it in the current directory, so I had to go to /opt
before launching jre.bin

registration of jre must be done by any user for his account, however
one no more needs to have his own full jre installed as it was in
previous ooo releases.

I tryed with success saveing in docbook, but have not yet the docbook
tools installed and so can't test the result (I'm installing these, but
need still some time through the net) - vi see many empty lines. the
document was very simple for now. more later

Date: Mon, 21 Jul 2003 15:45:19 -0400
From: Greg Ferguson <gferg@sgi.com>
Subject: Re: OpenOffice.org 1.1RC & DocBook
It doesn't appear to be the "official" simplified docbook DTD. The
public identifier doesn't point at the simplified docbook dtd
("-//OASIS//DTD Simplified DocBook XML V4.1.2.5//EN"), so
I would assume it's probably something of their own making.

"official" Simplified DocBook:

  http://www.oasis-open.org/docbook/xml/simple/
    http://www.docbook.org/tdg/simple/en/html/sdocbook.html

	  (supposed to be geared for on-the-fly rendering)

	  The OpenOffice simplified (or "special" docbook):
  http://www.chez.com/ebellot/ooo2sdbk/  (march 2002/French document)   
